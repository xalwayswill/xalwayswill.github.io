"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1368],{93234:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>s,default:()=>p,frontMatter:()=>o,metadata:()=>a,toc:()=>d});var r=t(74848),i=t(28453);const o={},s=void 0,a={id:"save this to git code reponsitories/2021-07-21",title:"2021-07-21",description:"",source:"@site/docs/save this to git code reponsitories/2021-07-21.md",sourceDirName:"save this to git code reponsitories",slug:"/save this to git code reponsitories/2021-07-21",permalink:"/docs/save this to git code reponsitories/2021-07-21",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/save this to git code reponsitories/2021-07-21.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"2021-03-26",permalink:"/docs/save this to git code reponsitories/2021-03-26"},next:{title:"CSH",permalink:"/docs/script/CSH"}},c={},d=[];function u(n){const e={code:"code",pre:"pre",...(0,i.R)(),...n.components};return(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"module demosaic_auto_balance(\r\n  a_i,b_i,aa,bb\r\n);\r\nparameter MSB = 4;\r\n    input  [6-1:0] a_i;\r\n    input  [6-1:0] b_i;\r\n    output [6-1:0] aa;\r\n    output [6-1:0] bb;\r\n  reg [7-1:0] cc;\r\n  reg [7-1:0] dd;\r\n  reg [8-1:0] mpre;\r\n  reg [7-1:0] m;\r\n\r\n  always @(*)begin\r\n    cc = a_i + 1'b1;\r\n    dd = b_i + 1'b1;\r\n    mpre = a_i + b_i;\r\n    m = mpre[1+:7];\r\n\r\n  end\r\n\r\n\r\n  function [7-1:0] quantizer;  // a/b*16\r\n    input unsigned [7-1:0] af;\r\n    input unsigned [7-1:0] bf;\r\n\r\n    reg [7-1:0] a[0:MSB-1];\r\n    reg [7-1:0] c[0:MSB-1];\r\n    reg [7-1:0] d[0:MSB-1];\r\n    integer i;\r\n    begin\r\n    for(i=0;i<MSB;i=i+1) begin: quantizer_loop\r\n      c[i] = bf >> (i+1);\r\n      if(i==0) begin // i=0\r\n\t      if(af>c[i])begin\r\n\t\t      d[0] = 1 << (MSB-1-i);\r\n\t\t      a[0] = af - c[i];\r\n\t      end\r\n\t      else begin\r\n\t\t      d[0] = 0;\r\n\t\t      a[0] = af;\r\n\t      end\r\n      end\r\n      else begin  // i=1,...,MSB\r\n\t      if(a[i-1]>c[i]) begin\r\n        \t  d[i] = d[i-1] + (1<<(MSB-1-i));\r\n\t\t  a[i] = a[i-1] - c[i];\r\n  \t\tend\r\n\t\telse begin\r\n\t\t  d[i] = d[i-1];\r\n\t\t  a[i] = a[i-1];\r\n\t\tend\r\n\tend\r\n      a[i] = a[i-1] - c[i];\r\n    end\r\n    if(a[MSB-1]>=c[MSB-1]) quantizer = d[MSB-1] + 1'b1;\r\n    else quantizer = d[MSB-1];\r\n  end\r\n  endfunction\r\n\r\nendmodule\n"})})}function p(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(u,{...n})}):u(n)}},28453:(n,e,t)=>{t.d(e,{R:()=>s,x:()=>a});var r=t(96540);const i={},o=r.createContext(i);function s(n){const e=r.useContext(o);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:s(n.components),r.createElement(o.Provider,{value:e},n.children)}}}]);