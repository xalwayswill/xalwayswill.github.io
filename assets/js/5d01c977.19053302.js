"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[8239],{36673:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>i,contentTitle:()=>t,default:()=>p,frontMatter:()=>a,metadata:()=>c,toc:()=>o});var s=r(74848),l=r(28453);const a={},t=void 0,c={id:"\u63a5\u53e3\u534f\u8bae/SPI",title:"SPI",description:"Reference",source:"@site/docs/\u63a5\u53e3\u534f\u8bae/SPI.md",sourceDirName:"\u63a5\u53e3\u534f\u8bae",slug:"/\u63a5\u53e3\u534f\u8bae/SPI",permalink:"/docs/\u63a5\u53e3\u534f\u8bae/SPI",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/\u63a5\u53e3\u534f\u8bae/SPI.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"SLVS-EC\u63a5\u53e3",permalink:"/docs/\u63a5\u53e3\u534f\u8bae/SLVS-EC\u63a5\u53e3"},next:{title:"Anaconda-\u914d\u7f6e\u591a\u73af\u5883",permalink:"/docs/\u73af\u5883\u914d\u7f6e/Anaconda-\u914d\u7f6e\u591a\u73af\u5883"}},i={},o=[{value:"Reference",id:"reference",level:3},{value:"SPI master \u548c slave \u4e4b\u95f4\u7684\u65f6\u949f\u5173\u7cfb",id:"spi-master-\u548c-slave-\u4e4b\u95f4\u7684\u65f6\u949f\u5173\u7cfb",level:3}];function d(e){const n={code:"code",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h3,{id:"reference",children:"Reference"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"SPI Block Guide V03.06 -- S12SPIV3"})}),"\n",(0,s.jsx)(n.li,{children:"AN991D Using the Serial Peripheral Interface"}),"\n",(0,s.jsx)(n.li,{children:"Infineon-Component SPI_V2.10-Software Module Datasheets-v02_07-EN.pdf"}),"\n",(0,s.jsx)(n.li,{children:"introduction-to-spi-interface -- AnalogDialogue"}),"\n",(0,s.jsx)(n.li,{children:"KeyStone Architecture Serial Peripheral Interface (SPI) -- User Guide.pdf"}),"\n",(0,s.jsx)(n.li,{children:"pg153-axi-quad-spi.pdf -- XILINX"}),"\n",(0,s.jsx)(n.li,{children:"QSPI NOR Flash -- The Quad SPI Protocol"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"SPI \u7684\u56db\u79cdmode\uff0cmode 0/3 \u90fd\u662fSCK\u7684\u4e0a\u5347\u6cbf\u91c7\u6837\uff0c\u4e0b\u964d\u6cbf\u53d1\u9001\u6570\u636e\uff0c\u533a\u522b\u662fmode 0\u7684 sample edge\u5148\u6765\uff08\u7b2c\u4e00\u4e2a\u6570\u636e\u53d1\u9001\u5728CS\u62c9\u4f4e\u7684\u65f6\u523b\uff09\uff0ctransfer edge\u540e\u6765\uff1bmode 3 \u7684 transfer edge\u5148\u6765\uff0csample edge\u540e\u6765\uff0c\u7b2c\u4e00\u4e2a\u6570\u636e\u53d1\u9001\u5728\u7b2c\u4e00\u4e2a\u8df3\u53d8\u6cbf\r\nAPB \u63a5\u53e3\u7684 SPI master\u4e00\u822c\u6765\u8bf4\u5b58\u5728\u4e24\u79cd\u5f02\u5e38\u60c5\u51b5\uff1a"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\u5904\u4e8e\u6570\u636e\u53d1\u9001\u9636\u6bb5\u65f6 tx_fifo empty\uff0c\u4e5f\u5c31\u662ftx_fifo underflow"}),"\n",(0,s.jsx)(n.li,{children:"\u5904\u4e8e\u6570\u636e\u63a5\u53d7\u9636\u6bb5\u65f6 rx_fifo full\uff0c\u4e5f\u5c31\u662frx_fifo_overflow\r\n\u81f3\u4e8e tx_fifo_overflow\uff0crx_fifo_underflow\u7684\u4e24\u79cd\u60c5\u51b5\uff0c\u4e00\u822c\u6765\u8bf4\u4f1a\u901a\u8fc7pready\u4fe1\u53f7\u5bf9\u7528\u6237\u8fdb\u884c\u53cd\u538b"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"spi-master-\u548c-slave-\u4e4b\u95f4\u7684\u65f6\u949f\u5173\u7cfb",children:"SPI master \u548c slave \u4e4b\u95f4\u7684\u65f6\u949f\u5173\u7cfb"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"master\u8f93\u51fa\u7684SCK\u7531clk_sys\u5185\u90e8\u8ba1\u6570\u5206\u9891\u51fa\u6765\uff0c\u4f46\u662f\u53ea\u80fd\u5b9e\u73b02N\u500d\u7684\u5206\u9891\uff0c\u4e0d\u662f\u4efb\u610f\u6574\u6570\u5206\u9891\u3002"}),"\n",(0,s.jsx)(n.li,{children:"slave\u8f93\u5165\u7684SCK\u548cslave\u5185\u90e8\u7684clk_sys\u4e4b\u95f4\u7684\u5173\u7cfb\u7ea6\u675f\u9700\u8981\u66f4\u52a0\u590d\u6742\uff0cslave\u4f7f\u7528\u5185\u90e8clk_sys\u53bb\u91c7\u6837SCK\uff0c\u56e0\u4e3aSCK\u548cMOSI\u662f\u7531master\u53d1\u9001\u7684\uff0c\u5185\u90e8\u8fdb\u884c\u4e24\u7ea7\u6253\u62cd\u540c\u6b65\u540e\u4f1a\u9020\u6210\u91c7\u6837\u540e\u7684SCK\u65f6\u949f\u6cbf\u548cMOSI\u5b58\u5728\u4e09\u4e2aclk_sys\u65f6\u949f\u5468\u671f\u7684delay\uff0c\u5bf9\u4e8eMOSI\u4fe1\u53f7\u7684\u91c7\u6837\u65f6\u95f4\u540c\u6837\u5c31\u4f1a\u53d1\u751fdelay\uff0c\u53ef\u80fd\u4f1a\u9020\u6210\u65e0\u6cd5\u6b63\u786e\u91c7\u6837\u5230\u5bf9\u5e94\u7684MOSI\uff0c\u56e0\u6b64SCK\u4e0eclk_sys\u7684\u65f6\u949f\u9891\u7387\u6bd4\u7387\u5e94\u8be5\u80fd\u591f\u8986\u76d6\u6389\u8fd9\u51e0\u4e2aclk_sys \u7684 cycle delay\u3002\u53e6\u5916\u5982\u679cslave\u8fd8\u8981\u7ed9master\u8fd4\u56de\u6570\u636e\u7684\u8bdd\uff0c\u8fd9\u4e2a\u65f6\u949f\u6bd4\u7684\u8981\u6c42\u5c31\u66f4\u9ad8\u4e86\uff0c\u56e0\u4e3aSCK\u662f\u7531master\u53d1\u9001\u7684\uff0cslave\u5185\u90e8\u7684delay\u5bf9\u4e8emaster\u800c\u8a00\u5e76\u4e0d\u80fd\u611f\u77e5\u5230\uff0cmaster\u8fd8\u4f1a\u5728\u539f\u6765\u7684\u4e0a\u5347\u6cbf\u8fdb\u884c\u6570\u636e\u91c7\u6837\uff0cslave\u5728SCK\u4e0b\u964d\u6cbf\u53d1\u9001\u7684\u6570\u636e\u5fc5\u987b\u5f97\u80fd\u591f\u4fdd\u8bc1master\u5728\u539fSCK\u7684\u4e0b\u964d\u6cbf\u7a33\u5b9a\u91c7\u6837\u5230\u3002\r\n\u4e09\u4e2acycle\u7684delay\u539f\u56e0\u662f\u5bf9\u4e8eSCK\u8fdb\u884c\u4e24\u7ea7\u540c\u6b65\u9700\u8981\u4e24\u4e2acycle\uff0c\u518d\u5224\u65ad\u6cbf\u9700\u8981\u591a\u4e00\u4e2acycle\u7684\u6253\u62cd\uff0c\u5982\u679c\u518d\u9884\u7559\u7ed9master\u4e24\u4e2acycle\u7684\u91c7\u6837\u5efa\u7acb\u65f6\u95f4\uff0c\u90a3\u4e48\u4e00\u5171\u5c31\u9700\u8981\u4e94\u4e2acycle\uff0cSCK\u7684\u534a\u4e2a\u65f6\u949f\u5468\u671f\u4e00\u5b9a\u8981\u5927\u4e8e\u8fd9\u4e94\u4e2acycle\uff0c\u6574\u4e2a\u9891\u7387\u4e5f\u5c31\u53d8\u4e3aclk_sys\u7684\u5341\u500d\u3002"}),"\n",(0,s.jsx)(n.li,{children:"\u5982\u679cslave\u7684\u7cfb\u7edf\u65f6\u949f\u4e0a\u4e0d\u53bb\uff0csynopsys\u63d0\u4f9b\u4e86\u4e00\u79cd\u989d\u5916\u7684\u65b9\u5f0f\uff0c\u5c31\u662f\u4f7f\u7528clk_sys\u7684\u4e0a\u5347\u6cbf\u548c\u4e0b\u964d\u6cbf\u5206\u522b\u5bf9SCK\u8fdb\u884c\u540c\u6b65\uff0c\u8fd9\u6837\u5c31\u80fd\u5c06\u4e24\u7ea7\u540c\u6b65\u7684\u65f6\u95f4\u538b\u7f29\u5230\u4e00\u4e2aclk_sys\u7684cycle\u5185\u90e8\uff0c\u4ece\u800c\u964d\u4f4e\u5bf9\u65f6\u949f\u9891\u7387\u7684\u8981\u6c42"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"{signal: [\r\n  {name: 'clk_cfg',    wave: 'pppppppppppppppppppppppppppppppp'},\r\n  {name: 'CS',         wave: '10.............................1'},\r\n  {name: 'SCK',        wave: '0.....1....0....1....0....1.....'},\r\n  {name: 'sck_d1',     wave: '0......1....0....1....0....1....'},\r\n  {name: 'sck_d2',     wave: '0.......1....0....1....0....1...'},\r\n  {name: 'sck_d2_inv', wave: '1.......0....1....0....1....0...'},\r\n  {name: 'sck_d3',     wave: '0........1....0....1....0....1..'},\r\n  {name: 'sck_d3_inv', wave: '1........0....1....0....1....0..'},\r\n  {name: 'rx_edge',    wave: '0.......10........10........10..'},\r\n  {name: 'tx_edge',    wave: '0............10........10.......'},\r\n  \r\n  {name: 'MISO',       wave: '2.............2.........2.......'},\r\n  {name: 'MOSI',       wave: '2..........2.........2..........'},\r\n]}\n"})})]})}function p(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>c});var s=r(96540);const l={},a=s.createContext(l);function t(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);