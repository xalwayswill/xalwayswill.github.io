"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[2273],{70073:(n,r,e)=>{e.r(r),e.d(r,{assets:()=>s,contentTitle:()=>a,default:()=>l,frontMatter:()=>o,metadata:()=>c,toc:()=>_});var i=e(74848),t=e(28453);const o={},a=void 0,c={id:"\u968f\u7b14/image_display-py",title:"image_display-py",description:"",source:"@site/docs/\u968f\u7b14/image_display-py.md",sourceDirName:"\u968f\u7b14",slug:"/\u968f\u7b14/image_display-py",permalink:"/docs/\u968f\u7b14/image_display-py",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/\u968f\u7b14/image_display-py.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"filelist-py",permalink:"/docs/\u968f\u7b14/filelist-py"},next:{title:"img_agent-sv",permalink:"/docs/\u968f\u7b14/img_agent-sv"}},s={},_=[];function p(n){const r={code:"code",pre:"pre",...(0,t.R)(),...n.components};return(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:'#! usr/bin/python\r\n# -*- coding: utf-8 -*-\r\nimport numpy as np\r\nimport cv2\r\n\r\nconfig = []\r\nwith open(r"vsim/config.txt", \'r\') as fp:\r\n    for line in fp:\r\n        config.append(int(line.strip(\'\\n\')))\r\n\r\nimg_wide_full = config[0]\r\nimg_high_full = config[1]\r\nCHAN_NUM = 1\r\n# CHAN_NUM = config[2]\r\nCOLOR_TYPE = config[3] # 0: mono, 1: color\r\nTEST_MODE = config[4]  # 0: vector monobar, 1: vector colorbar 4: oblique bar\r\nsubs_col_rate = 2**config[5]\r\nsubs_row_rate = 2**config[6]\r\nbin_col_rate = 2**config[7]\r\nbin_row_rate = 2**config[8]\r\nBAYER_TYPE = config[9] # 0: GR 1:RG 2:GB 3:BG\r\nFRAME_NUM = config[10]\r\nIMG_WIDE = img_wide_full//subs_col_rate//bin_col_rate\r\nIMG_HIGH = img_high_full//subs_row_rate//bin_row_rate*FRAME_NUM\r\n\r\nprint("Image wide is " + str(IMG_WIDE))\r\nprint("Image high is " + str(IMG_HIGH))\r\nprint("Frame number is " + str(FRAME_NUM))\r\n\r\nfile_path = "vsim/data"\r\nchan = [[] for j in range(CHAN_NUM)]\r\nfor i in range(CHAN_NUM):\r\n    with open(file_path + str(i) + r".dat", \'r\') as fp:\r\n        for line in fp:\r\n            chan[i].append(int(line.strip(\'\\n\')))\r\n\r\nchan_np = np.zeros((IMG_HIGH, IMG_WIDE//CHAN_NUM, CHAN_NUM), dtype=np.uint16)\r\nfor i in range(CHAN_NUM):\r\n    chan_np[:,:,i] = np.array(chan[i], dtype=np.uint16).reshape(IMG_HIGH, IMG_WIDE//CHAN_NUM)\r\n\r\nimage = np.zeros((IMG_HIGH, IMG_WIDE), dtype=np.uint16)\r\nfor i in range(CHAN_NUM):\r\n    image[:, i::CHAN_NUM] = chan_np[:,:,i]\r\n\r\nif(TEST_MODE == 1 and COLOR_TYPE == 1):\r\n    if(BAYER_TYPE == 0):\r\n        image = cv2.cvtColor(image, cv2.COLOR_BayerGR2RGB)\r\n    elif(BAYER_TYPE == 1):\r\n        image = cv2.cvtColor(image, cv2.COLOR_BayerRG2RGB)\r\n    elif(BAYER_TYPE == 2):\r\n        image = cv2.cvtColor(image, cv2.COLOR_BayerGB2RGB)\r\n    elif(BAYER_TYPE == 3):\r\n        image = cv2.cvtColor(image, cv2.COLOR_BayerBG2RGB)\r\n\r\ncv2.imshow("test image", image)\r\ncv2.waitKey(0)\r\ncv2.imwrite("vsim/test_image.jpg", image//256)\n'})})}function l(n={}){const{wrapper:r}={...(0,t.R)(),...n.components};return r?(0,i.jsx)(r,{...n,children:(0,i.jsx)(p,{...n})}):p(n)}},28453:(n,r,e)=>{e.d(r,{R:()=>a,x:()=>c});var i=e(96540);const t={},o=i.createContext(t);function a(n){const r=i.useContext(o);return i.useMemo((function(){return"function"==typeof n?n(r):{...r,...n}}),[r,n])}function c(n){let r;return r=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:a(n.components),i.createElement(o.Provider,{value:r},n.children)}}}]);