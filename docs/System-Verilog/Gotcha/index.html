<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-System-Verilog/Gotcha" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Gotcha | My Site</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://xalwayswill.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://xalwayswill.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://xalwayswill.github.io/docs/System-Verilog/Gotcha"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Gotcha | My Site"><meta data-rh="true" name="description" content="* 命名"><meta data-rh="true" property="og:description" content="* 命名"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://xalwayswill.github.io/docs/System-Verilog/Gotcha"><link data-rh="true" rel="alternate" href="https://xalwayswill.github.io/docs/System-Verilog/Gotcha" hreflang="en"><link data-rh="true" rel="alternate" href="https://xalwayswill.github.io/docs/System-Verilog/Gotcha" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="My Site RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="My Site Atom Feed"><link rel="stylesheet" href="/assets/css/styles.ce37c9a8.css">
<script src="/assets/js/runtime~main.6fe70a30.js" defer="defer"></script>
<script src="/assets/js/main.8555064f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">My Site</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Tutorial</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Tutorial Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/tutorial---basics">Tutorial - Basics</a><button aria-label="Expand sidebar category &#x27;Tutorial - Basics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/tutorial---extras">Tutorial - Extras</a><button aria-label="Expand sidebar category &#x27;Tutorial - Extras&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/FPGA-IC/8B10B编码">FPGA-IC</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/System-Verilog/Assertion">System-Verilog</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/System-Verilog/Assertion">Assertion</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/System-Verilog/DPI">DPI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/System-Verilog/Gotcha">Gotcha</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/System-Verilog/OOP相关">OOP相关</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/System-Verilog/Program">Program</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/System-Verilog/Randomization">Randomization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/System-Verilog/Systemverilog-运行时传递参数">Systemverilog-运行时传递参数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/System-Verilog/UVM实战">UVM实战</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/System-Verilog/VCS解组合逻辑环死锁">VCS解组合逻辑环死锁</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/System-Verilog/任务、函数">任务、函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/System-Verilog/接口">接口</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/System-Verilog/数据类型">数据类型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/System-Verilog/线程、进程及通信">线程、进程及通信</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/System-Verilog/线程和通信">线程和通信</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/System-Verilog/虚函数">虚函数</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/save this to git code reponsitories/2021-01-27">save this to git code reponsitories</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/script/CSH">script</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/work-log---arm-china/2023-08-15">work-log---arm-china</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/work-log---g/2024-09-24">work-log---g</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/功能安全/低功耗相关">功能安全</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/图像处理/3DLUT">图像处理</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/开发工具/Graphviz---绘制图形网络"> 开发工具</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/接口协议/CameraLink">接口协议</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/环境配置/Anaconda-配置多环境">环境配置</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/移知网课程/AMBA-APB-AHB-AXI">移知网课程</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/随笔/ImageData-sv">随笔</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/面试题目记录/为什么使用与非门而不是或非门进行逻辑面积评估？">面试题目记录</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">System-Verilog</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Gotcha</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><ul>
<li>
<p>命名
用户自定义类型：with_t
枚举变量类型：with_e
低有效信号类型： with_n
常量和枚举标签：全大写
类定义： 大驼峰</p>
</li>
<li>
<p>automatic
动态变量会在调用时动态分配内存，并在退出时自动释放内存，对于多次调用的任务和函数需要使用automatic来修饰，不然会调用同一个内存空间。
automatic 变量不会输出到Value Change Dump（VCD）文件中，并且不能使用层级路径来进行引用。（因为静态变量层级路径是固定的，而动态变量是在仿真过程中来来去去的），因此使用层级路径是需要先检查变量类型是静态还是动态，并且动态变量不输出到VCD文件中可能会丢失部分重要信息。</p>
</li>
<li>
<p>尽量使用packet而非$uint来区分不同命名空间内的变量或者函数</p>
</li>
<li>
<p>使用automatic修饰program使得自动分配存储空间，更像C/C++。然而这种方式只能改变tasks，functions和过程块中的变量，在program块层的变量仍然默认是静态的。</p>
</li>
<li>
<p>过程块中声明的变量如果过程块没有命名则没有层级结构</p>
</li>
<li>
<p>变量位宽不匹配赋值时高位填充0还是符号位取决于右侧变量类型</p>
</li>
<li>
<p>SV再module中传输real类型，output可直接定义为real类型，<strong>input只能为var real</strong></p>
</li>
<li>
<p>使用@(*)能够包含always中所使用的敏感变量，但是如果always中调用了function，则函数中的变量额外的变量不会添加到敏感变量列表中，可能会导致逻辑错误。SV提供了 always_comb, always_latch自动包含内部使用的敏感变量，不再需要@，但是不能包含task</p>
</li>
<li>
<p>使用begin...end 可能会导致可复位顺序逻辑出现错误</p>
</li>
<li>
<p>在生成分频时钟时，应该使用阻塞赋值而不是非阻塞赋值，避免后级使用该时钟触发时会出现竞争</p>
</li>
<li>
<p>在组合逻辑中应该避免使用非阻塞赋值，由于非阻塞赋值的clock-to-Q delta，如果敏感变量在该时间内变化可能会出现问题 例如<code>m &lt;= m + n</code></p>
</li>
<li>
<p>casez 和 casex允许在表达式两边设置掩码（表示不考虑该bit位，如4’b1???），如果输入为4‘bxxxx，则会直接匹配case表达式的第一个分支，而不是default。SV中的always_comb 中的case inside可以避免该操作。
<img decoding="async" loading="lazy" src="data:image/png;base64,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" width="691" height="139" class="img_ev3q">
在综合时尽量不要使用casex（实际三个综合出来结果一样的），一般使用?来表示不考虑的z值，在进行比较时忽略该位的比较。</p>
</li>
<li>
<p>使用枚举类型设置状态机应该注意没枚举类型默认变量值从0开始，如果cs ns默认初始值均为0，则ns状态（case(cs)）无法切换，状态机锁死</p>
</li>
<li>
<p>操作符位宽匹配是根据<strong>操作符两侧的最大位宽</strong>，而符号扩展值取决于右侧表达式是否包含有符号数。有符号加无符号结果为无符号</p>
</li>
<li>
<p>++i 和 i++前置后置运算符号，前置先加再赋值，后置先赋值再加</p>
</li>
<li>
<p>注意逻辑非<code>!</code>与bit翻转<code>~</code>运算符的区别，在逻辑判断时不能使用<code>~</code></p>
</li>
<li>
<p>不要使用#0
Designers are often tempted to use #0 to avoid race conditions between two procedural blocks. A #0 in a procedural block forces that block to stop and be rescheduled after all other blocks. The problem happens when you have multiple blocks that all want to execute last. Who should win?
This itself can become a new race condition and its resolution could vary from run to run and from the simulator to simulator. In short, multiple threads using #0 delays can cause non-deterministic execution behavior.
Besides, it makes your code hard to read and also non-synthesizable.</p>
</li>
</ul>
<header><h1>使用#1</h1></header>
<p>Reference ：Verilog Nonblocking Assignments With Delays, Myths &amp; Mysteries</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="general-programming-gotchas">General programming Gotchas<a href="#general-programming-gotchas" class="hash-link" aria-label="Direct link to General programming Gotchas" title="Direct link to General programming Gotchas">​</a></h2>
<ul>
<li>尽量不要在0时刻进行复位，应该在所有的过程块都正常工作后再复位。或者在给时钟赋初值时采用非阻塞赋值  ，而复位信号采用阻塞赋值</li>
<li>SV中的program块有特殊的时间调度机制，能够帮助避免大多数类型的验证到设计之间的竞争状态。</li>
<li>来自设计的信号进行判断时最好使用===，!==，避免XZ导致的问题</li>
<li>SV中增加了<code>-&gt;&gt;</code>(阻塞触发)以及<code>wait</code>(trigger.triggered)两种方式避免verilog中的<code>-&gt;</code> trigger没有被接收到</li>
<li>在使用semaphore时，如果<code>get()</code>所需求的key不够，则会将请求存入FIFO中，但是如果后面的<code>get()</code>需求的key能够被满足，则会直接该<code>get()</code>则会直接被响应，而不会等到FIFO中的请求被响应之后再响应。因此应该再每次都是用<code>get(1)</code>，当需要多个key时使用repeate调用多个<code>get(1)</code>，保证同步。</li>
<li>mailbox由于能够存入任何类型的数据，可能会因为从里面读出的数据类型不匹配而导致出现错误，可使用try_get()来判断读取结果是否正确。另一种方法是使用指定类型的mailbox（<code>mailbox #(data_type) mbox1 = new;</code>）</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="object-oriented-and-multi-threaded-programming-gotchas">Object Oriented and Multi-Threaded Programming Gotchas<a href="#object-oriented-and-multi-threaded-programming-gotchas" class="hash-link" aria-label="Direct link to Object Oriented and Multi-Threaded Programming Gotchas" title="Direct link to Object Oriented and Multi-Threaded Programming Gotchas">​</a></h2>
<ul>
<li>动态变量内部不能包含静态变量，如类内不能实例化interface，interface为表示硬件接口的结构组件，在类内可实例化的为interface的指针，即虚接口，虚接口的作用是允许动态变量拥有静态实例变量的句柄，从而能够在静态变量和动态变量之间传递数据。</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class driver;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  virtual interface arb;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function new(virtual arb_ifc arb)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    this.arb = arb;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  endfunction</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">endclass</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>通过input输入的变量都会通过拷贝传入方法中，并不会返回修改后的值，如果在调用该方法的位置获得返回值，可通过ref传入变量</li>
<li>对象数组只能单独实例化数组内的每个变量，不能一起进行实例化</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Transaction trans[8]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">foreach (trans[i])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  trans[i] = new()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>verilog 和 systemverilog 中 function 和 task 默认为静态（static）的，不同于C语言中默认为动态（automatic）的，静态函数和任务每次调用都共享内存空间，在多次调用时可能会导致出现错误，后面的调用会覆盖前面的调用，因此可在声明函数和任务时修饰为automatic</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">task automatic watchdog(...)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>另外在SV中automatic可用于修饰module、interface以及program，可通过修饰program，使得program内部的所有函数和任务默认都是automatic</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">program automatic test(...)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  task watchdog ()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>静态类型内部变量初始化时只会在其创建时初始化一次</strong>（因为其内存空间已经固定），及时多次调用也只会保持第一次初始化的值，无法改变</li>
<li>使用disable禁用block时需要块名，然而只有静态变量存在固定的块名，要使用disable关闭多个并发线程中的一个，只能在module例化层面进行task的多线程并发，且task必须是静态的。</li>
<li>program不需要连续执行，当运行到program块的结尾时，仿真自动停止。但是可能会导致verilog仿真模型或者program中的一些线程（fork join_any/join_none）没有运行完毕就终止仿真。</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="randomization-coverage-and-assertion-gotchas">Randomization, Coverage and Assertion Gotchas<a href="#randomization-coverage-and-assertion-gotchas" class="hash-link" aria-label="Direct link to Randomization, Coverage and Assertion Gotchas" title="Direct link to Randomization, Coverage and Assertion Gotchas">​</a></h2>
<ul>
<li>包含随机变量的类，其句柄和子类也应该声明为rand才能进行随机化</li>
<li>关闭断言（$assertoff）会同时关闭其内部的randomize</li>
<li>约束中一次只执行一个运算符（<code>a&lt;b&lt;c</code>会理解成<code>(a&lt;b)&lt;c</code>）</li>
<li>关于覆盖率部分没有阅读，因为不会87、88、89、90、91</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="tool-compatibility-gotchas">Tool Compatibility Gotchas<a href="#tool-compatibility-gotchas" class="hash-link" aria-label="Direct link to Tool Compatibility Gotchas" title="Direct link to Tool Compatibility Gotchas">​</a></h2>
<p>不同工具对语法的支持不一致，应该尽量使用所有工具都支持的，避免使用非官方语法及关键字，狮子啊不能兼容使用宏定义分类</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="负数的截位">负数的截位<a href="#负数的截位" class="hash-link" aria-label="Direct link to 负数的截位" title="Direct link to 负数的截位">​</a></h2>
<p>负数在系统中通过二进制补码进行表示，但二进制补码直接截位会带来数值的改变，需要进行四舍五入截位。
正数直接截位是向0舍入，而负数补码直接截位会出现向负无穷舍入。</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/System-Verilog/Gotcha.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/System-Verilog/DPI"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">DPI</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/System-Verilog/OOP相关"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">OOP相关</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#general-programming-gotchas" class="table-of-contents__link toc-highlight">General programming Gotchas</a></li><li><a href="#object-oriented-and-multi-threaded-programming-gotchas" class="table-of-contents__link toc-highlight">Object Oriented and Multi-Threaded Programming Gotchas</a></li><li><a href="#randomization-coverage-and-assertion-gotchas" class="table-of-contents__link toc-highlight">Randomization, Coverage and Assertion Gotchas</a></li><li><a href="#tool-compatibility-gotchas" class="table-of-contents__link toc-highlight">Tool Compatibility Gotchas</a></li><li><a href="#负数的截位" class="table-of-contents__link toc-highlight">负数的截位</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>