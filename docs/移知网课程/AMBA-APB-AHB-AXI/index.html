<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-移知网课程/AMBA-APB-AHB-AXI" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">AMBA-APB-AHB-AXI | My Site</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://xalwayswill.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://xalwayswill.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://xalwayswill.github.io/docs/移知网课程/AMBA-APB-AHB-AXI"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="AMBA-APB-AHB-AXI | My Site"><meta data-rh="true" name="description" content="Reference："><meta data-rh="true" property="og:description" content="Reference："><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://xalwayswill.github.io/docs/移知网课程/AMBA-APB-AHB-AXI"><link data-rh="true" rel="alternate" href="https://xalwayswill.github.io/docs/移知网课程/AMBA-APB-AHB-AXI" hreflang="en"><link data-rh="true" rel="alternate" href="https://xalwayswill.github.io/docs/移知网课程/AMBA-APB-AHB-AXI" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="My Site RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="My Site Atom Feed"><link rel="stylesheet" href="/assets/css/styles.ce37c9a8.css">
<script src="/assets/js/runtime~main.58983a80.js" defer="defer"></script>
<script src="/assets/js/main.8555064f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">My Site</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Tutorial</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Tutorial Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/tutorial---basics">Tutorial - Basics</a><button aria-label="Expand sidebar category &#x27;Tutorial - Basics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/tutorial---extras">Tutorial - Extras</a><button aria-label="Expand sidebar category &#x27;Tutorial - Extras&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/FPGA-IC/8B10B编码">FPGA-IC</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/System-Verilog/Assertion">System-Verilog</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/save this to git code reponsitories/2021-01-27">save this to git code reponsitories</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/script/CSH">script</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/work-log---arm-china/2023-08-15">work-log---arm-china</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/work-log---g/2024-09-24">work-log---g</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/功能安全/低功耗相关">功能安全</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/图像处理/3DLUT">图像处理</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/开发工具/Graphviz---绘制图形网络">开发工具</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/接口协议/CameraLink">接口协议</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/环境配置/Anaconda-配置多环境">环境配置</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/移知网课程/AMBA-APB-AHB-AXI">移知网课程</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/移知网课程/AMBA-APB-AHB-AXI">AMBA-APB-AHB-AXI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/移知网课程/DDR">DDR</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/移知网课程/MCU设计相关">MCU设计相关</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/移知网课程/Memory系统">Memory系统</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/移知网课程/NIC-400">NIC-400</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/移知网课程/中断系统">中断系统</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/移知网课程/基础知识">基础知识</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/移知网课程/时钟树">时钟树</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/随笔/ImageData-sv">随笔</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/面试题目记录/为什么使用与非门而不是或非门进行逻辑面积评估？">面试题目记录</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">移知网课程</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">AMBA-APB-AHB-AXI</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>AMBA-APB-AHB-AXI</h1></header><h4 class="anchor anchorWithStickyNavbar_LWe7" id="reference">Reference：<a href="#reference" class="hash-link" aria-label="Direct link to Reference：" title="Direct link to Reference：">​</a></h4>
<p>[1] ARM官方数据手 册：<a href="https://www.arm.com/architecture/system-architectures/amba/amba-specifications" target="_blank" rel="noopener noreferrer">https://www.arm.com/architecture/system-architectures/amba/amba-specifications</a>
[2] <a href="https://www.cnblogs.com/xianyuIC/p/17301009.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/xianyuIC/p/17301009.html</a>
[3] <a href="https://developer.arm.com/documentation/ddi0479/c/" target="_blank" rel="noopener noreferrer">cmsdk</a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="amba介绍">AMBA介绍<a href="#amba介绍" class="hash-link" aria-label="Direct link to AMBA介绍" title="Direct link to AMBA介绍">​</a></h4>
<ul>
<li>Bus interface performance
<img decoding="async" loading="lazy" src="/assets/images/23495115-4a76b1c7b218ee48-278cec36cf0e21d8f29ec90152493c54.png" width="1200" height="609" class="img_ev3q"></li>
<li>基础概念</li>
</ul>
<ol>
<li>
<p>什么是<code>slave interface</code>？</p>
<p>我们通常说AXI是点对点的协议，<code>slave interface</code>是slave上的接口，用来连接对应master上的<code>master interface</code>。</p>
</li>
<li>
<p>什么是<code>master interface</code>？</p>
<p>我们通常说AXI是点对点的协议，<code>master interface</code>是master上的接口，用来连接对应slave上的<code>slave interface</code>。
<img decoding="async" loading="lazy" src="/assets/images/23495115-7ed5e9b0641e414c-df61ea49148f63a04bc5bf444a80cda0.png" width="800" height="334" class="img_ev3q"></p>
</li>
<li>
<p>什么是<code>transaction</code>和<code>transfer</code>？</p>
<p>transaction是包含整个burst的传输，它包含地址传输，数据传输，以及响应。而transfer指的但是单个信息传输，它可以一个地址传输，一个数据传输等等</p>
</li>
<li>
<p>什么是<code>bus matrix</code>和<code>bus interconnection</code>？</p>
<p>bus matrix和bus interconnection都是用来连接bus的master和slave， 本质是一样的，只是叫法不同而已</p>
</li>
<li>
<p>什么是<code>burst</code>？</p>
<p>在AXI协议中，是transaction的单位，一个transaction是以一个<code>burst</code>为单位的传输的，一个burst可以包含多个transfer.</p>
</li>
<li>
<p>什么是<code>outstanding transaction</code>？</p>
<p>指一个transaction已经发出，但是还没有得到response。</p>
</li>
<li>
<p>什么是<code>read/write issue capability</code>？</p>
<p>指某个cpu/master可以发出最大数目的<code>read/write outstanding transaction</code>数目。</p>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="memory-model-和-memory-type">Memory model 和 memory type<a href="#memory-model-和-memory-type" class="hash-link" aria-label="Direct link to Memory model 和 memory type" title="Direct link to Memory model 和 memory type">​</a></h4>
<p><img decoding="async" loading="lazy" src="/assets/images/23495115-a2f0f90b668fd2f4-c85a39e3f1d0f0d25ea345011c69b337.png" width="943" height="483" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-4be77acf29ddb424-693e2b529cc1c834199fdc15576536a6.png" width="753" height="578" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-27dc13eefdca8958-8291d647735654d76a0e04d9bccb03b3.png" width="1150" height="634" class="img_ev3q"></p>
<p>CPU发送Nornal Memory的访问命令，bus interconnection可以先将命令暂存在内部，并返回response给cpu，当下一次访问到来时，interconnection继续返回response，当多个访问的到来时，将多个访问的burst的进行合并发送给normal memory，normal memory再返回response给interconnection。
CPU发送Device Memory的访问命令，interconnection收到命令立即返回给cpu response，然后interconnection发送请求给Device memory，然后device memory再返回response
CPU发送strongly-ordered memory的访问命令时，interconnection不会立即返回response，并将请求发送给strongly-ordered memory，strongl-orderd memory 返回response给interconnection后，interconnection再返回response给cpu，此时cpu才会认为strongly-ordered memory 的访问结束了，因此CPU访问此类memory的效率最低。
感觉cacheable就是说一次传输可以被缓存下来，然后将多个传输合并为一个命令，再发送给目的端。而bufferable则是指命令可以被缓存下来，但是不能将多个命令合并传输。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="secure-and-non-secure">Secure and Non-secure<a href="#secure-and-non-secure" class="hash-link" aria-label="Direct link to Secure and Non-secure" title="Direct link to Secure and Non-secure">​</a></h4>
<p><img decoding="async" loading="lazy" src="/assets/images/23495115-e016a6554b26a368-2507ded06dffaefc42b2533255c61000.png" width="1129" height="649" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-ba98a2c89d9f3bfb-0ccf984caa5916c70fa68e885225cd96.png" width="1200" height="655" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="cache">Cache<a href="#cache" class="hash-link" aria-label="Direct link to Cache" title="Direct link to Cache">​</a></h4>
<p><img decoding="async" loading="lazy" src="/assets/images/23495115-f3ea0062dffc5d1c-9989a6a09a08d60acf07068216854efc.png" width="1200" height="534" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-0288ee0edeaba9d6-46312497512674c4d94c4d2c0b10f790.png" width="1113" height="669" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-1eb29f4e8689a539-5ff7f63b167a2fc43342dd198287d043.png" width="1200" height="662" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-349e75782bde19a9-24fe62e788905e5d0c61eb0c6611273b.png" width="957" height="674" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-bfcdc7a4594006fe-68d791ba65fc0bd6c692ffcdbcc65575.png" width="1145" height="514" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-61b8ae73235a276e-95c4d6a958d1e9867a19db8147d548cd.png" width="877" height="681" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-c15b43ca915f1972-9d26c376bab664726eb45839b9ac4253.png" width="884" height="672" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-e5cd6fabb7b50747-6e70e27142dd80b3f315522f37bec085.png" width="1200" height="606" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="apb">APB<a href="#apb" class="hash-link" aria-label="Direct link to APB" title="Direct link to APB">​</a></h4>
<ul>
<li>The advantage of APB
The protocol is simple -- Easy to design APB-related modules, e.g. APB slave, APB MUX
Power consumption is lower -- APB clock frequency usually is low
Gate counts is also lower -- Design is simple</li>
<li>PENABLE 是否是多余的？
如果APB slave 有 PCLK输入，PENABLE确实可以不要，但是如果slave使用纯组合逻辑，则需要使用PENABLE来区分setup stage 和 access stage</li>
<li>APB2 为何定义两个clock cycle的读写操作
定义两个stage其实就相当于定义两个时钟周期。因为APB的slave通常来说对应peripheral的registers，访问这些slave registers（control，status，write/read data）两个clock cycle就够了。对于status register而言是软件轮询的方式（每次访问同样是两个clock cycle）</li>
<li>APB3 引入了PREADY信号来插入wait state，同时引入PSLVERR信号来指示Error信息（<strong>注意PSLVERR需要和PREADY同时返回，这样才能保证master采样到，如果slave内部没有完成PSLVERR的判断，需要将pready拉低等待slave判断传输时候成功</strong>）</li>
<li>APB4 引入了PPROT[2:0]信号和PSTRB</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ahb">AHB<a href="#ahb" class="hash-link" aria-label="Direct link to AHB" title="Direct link to AHB">​</a></h4>
<p>AHB和AHB-Lite最大的区别就是AHB是支持多个master，AHB-Lite不支持多个master
<img decoding="async" loading="lazy" src="/assets/images/23495115-e552e19c130b3191-6c7c12713d45de928468c10485d36cab.png" width="1200" height="618" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-12a10e9a9573dd47-6ba2a31149c04f6eb798ca2f81ae2141.png" width="1200" height="623" class="img_ev3q">
AHB是可以支持pipeline的，address phase 和 data phase是overlap的
<img decoding="async" loading="lazy" src="/assets/images/23495115-c6f87b65183b89a5-123d69f7fe9a9813f86455e2bacd5df7.png" width="1200" height="608" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-30b0d177eca51d36-9237c73ff73f54f92df56bde4faab9ee.png" width="1200" height="610" class="img_ev3q">
注意HTRANS和HBURST的区别，<strong>HSIZE在一个burst期间要保持不变</strong>，表示的是每次传输的数据大小，HSIZE设置的传输大小必须≤数据总线的位宽，HSIZE和HBURST共同决定了wrap burst的传输的地址边界，例如WRAP4，HSIZE=4byte，则传输的地址边界位 16 byte
<img decoding="async" loading="lazy" src="/assets/images/23495115-4832663e246b9156-5cd9c22bec5a23c4f1b27c1dd565a8fb.png" width="1115" height="885" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-90ae6fbc8911b268-49a444eef6e0c8415219cf456c2b0592.png" width="952" height="866" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-024eeb479f50a60a-a90994d87af50c70e9a9b285617af30d.png" width="1119" height="573" class="img_ev3q"></p>
<ul>
<li>地址对齐<!-- -->
<ul>
<li>
<p>AHB协议在突发时必须地址对齐。</p>
<ul>
<li>
<p>例如word传输表示每次传输的数据量是32 bit，每个地址能存放8 bit数据，因此传输一个32 bit数据就需要消耗4个地址，二进制描述就是消耗HADDR[1:0]。所谓对齐到地址边界，就是说HADDR的值的低2bit必须是0，即HADDR[1:0] = 2’b00，转成16进制就是只允许HADDR的最低位为0、4、8、C（很多寄存 器地址也都是048C的地址顺序），word传输也是实际工作中最常用到的SIZE。</p>
</li>
<li>
<p>如果是16bit的half-word传输，同理传输一个16bit数据就需要消耗2个地址，二进制描述就是消耗HADDR[0]，转成16进制就是只允许HADDR的最低位为0、2、4、6、8、a、c、e。</p>
</li>
<li>
<p>IDLE传输的地址也最好对齐，否则在仿真时，监视器可能会报warning。
——注意——</p>
</li>
<li>
<p>APB不能突发传输，因此没有对齐和非对齐的说法，或者认为支持非突发的非对齐操作。</p>
</li>
<li>
<p>AHB要实现非对齐操作，不能使用突发传输，可以采用非突发的单拍传输，AXI可以通过窄传输实现</p>
</li>
<li>
<p>AXI也有突发传输，并且通过掩码方式实现了突发传输中的非对齐操作。</p>
</li>
</ul>
</li>
<li>
<p>AHB协议中，Master禁止跨越1KB地址边界的递增突发。</p>
<ul>
<li>因为slave在设计的时候是以1KB为单位的，如果跨过了1KB就有可能访问到另一个slave。</li>
<li>AXI协议中进制跨越4KB地址边界，也是为了避免一笔burst交易访问两个slave（每个slave的地址空间是4K/1K对齐的），4K对齐最大原因是系统中定义一个page大小是4K，而所谓的4K边界是指低12bit为0的地址。
<img decoding="async" loading="lazy" src="/assets/images/23495115-f5090a63ee675057-63d93567c625e751fecea60639b2ea1a.png" width="1091" height="342" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-074a6a637d21192e-bd2c71d84af0ad36fe258cd0bca02070.png" width="1028" height="581" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-93be269df0e74469-119712efad46044ba3193ee99ce2851b.png" width="1200" height="468" class="img_ev3q">
<strong>OKAY相应只需要一个周期，而Error response必须是两个cycle</strong>，应该在hready的上升沿。<strong>因为总线的流水线特性，所以要求这种两个时钟周期的响应机制</strong>。当Slave开始发出一个ERROR响应的时候，下一个传输的地址已经发布在总线上，这种<strong>两周期响应机制为Master提供了足够的时间通过驱动HTRANS[1:0]为IDLE状态来取消下一拍总线访问</strong>，如上面几图所示。如果Slave需要超过两个时钟周期的时间提供ERROR响应信号，则从传输开始需要额外插入等待状态。此时 HREADY为低电平，响应必须驱动为OKAY。
当 Slave 响应了 ERROR 响应，Master 可以取消掉一个 Burst 中剩余的传输。然而这并不是严格的要求，Master 仍然可以继续 Burst 的剩余传输。
<img decoding="async" loading="lazy" src="/assets/images/23495115-62dbf65faa4a6f2e-6fe23c75572091730308ff71532e4547.png" width="1046" height="613" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-48179388f2d38023-8e3c5ce3506cf6d0a676cc14a7674d42.png" width="1110" height="649" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-2f2f8ce8c5cf6b05-4ccebe5662f6318735ee5b7fe634a9ba.png" width="1200" height="192" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-aa41848397a4bd74-d1ac826add76b8aeb03a4c21c94730cd.png" width="1172" height="630" class="img_ev3q">
HREADY 和 HREADYOUT 用于表示上一个是transfer是否完成，只有当上一个transfer完成之后，才会开始采样新的地址和命令。
<img decoding="async" loading="lazy" src="/assets/images/23495115-c6a2d17f7a4bf27f-3d67b14155cd207e3792481e03512960.png" width="1111" height="535" class="img_ev3q">
示例中Locked Transfer用于保证先读后写的原子操作</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ahb2apb-bridge">AHB2APB Bridge<a href="#ahb2apb-bridge" class="hash-link" aria-label="Direct link to AHB2APB Bridge" title="Direct link to AHB2APB Bridge">​</a></h4>
<p><img decoding="async" loading="lazy" src="/assets/images/23495115-4c6d7c359c59f487-f92a6199b66839a275fd0b5d90208535.png" width="1115" height="610" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ahb2sram">AHB2SRAM<a href="#ahb2sram" class="hash-link" aria-label="Direct link to AHB2SRAM" title="Direct link to AHB2SRAM">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="bus-matrix-design">Bus Matrix Design<a href="#bus-matrix-design" class="hash-link" aria-label="Direct link to Bus Matrix Design" title="Direct link to Bus Matrix Design">​</a></h4>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="axi">AXI<a href="#axi" class="hash-link" aria-label="Direct link to AXI" title="Direct link to AXI">​</a></h3>
<p><img decoding="async" loading="lazy" src="/assets/images/23495115-f43540f6f7b4361f-8b41a8e4beaad50cab7c39167606edc6.png" width="1200" height="589" class="img_ev3q">
上面第三条是说写地址和写数据没有严格的依赖关系，写数据可以早于写地址发出，但是需要slave或者interconnection具有缓存能力。
AXI的burst操作只需要给出每一笔burst的首地址和对应属性，不需要像AHB一样给出每一笔transfer的地址。
<strong>一次传输叫做一个transfer，一个transaction可视为一次完整的传输，例如一个burst</strong>，一个transaction包含多个transfer
valid不能等待ready，但是ready可以等待valid到来之后再拉高
<img decoding="async" loading="lazy" src="/assets/images/23495115-1fdfd1fd3b714d45-1621d758d697c41228b896c5468ad8c7.png" width="1200" height="602" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-264b8fe423bf3dd2-7ce37719883206dce8f5afb0eb491178.png" width="1200" height="640" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-27c11e1a2bcadada-08aa16f673a1cc16f3bd97b5c4287017.png" width="1200" height="645" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-542b5a2ddaf8d2eb-565e7e5d357def8fce9e2318f3fd70d6.png" width="1200" height="576" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-172f1eefe9594786-bc817226929e0712676ddf977b978030.png" width="1200" height="656" class="img_ev3q">
WRAP最典型的是对cacheline进行操作
<img decoding="async" loading="lazy" src="/assets/images/23495115-2585cacff555d877-83a7ae1467ad8c3fce783b45a22faded.png" width="1075" height="614" class="img_ev3q">
Cache support
<strong>cache support主要是为了early response</strong>
之前曾经想过cacheable或者bufferable类型的传输如果到了中层级已经返回了response但是从中间的buffer传输到memory的过程中失败的话会怎样，其实中间层级就是一级缓存，类似于cache，只要成功写到了中间层级，即使最后没有成功写道memory中，下次对地址进行读取的时候也可以直接从中间层级得到对应的数据，数据并不会丢失，master只要确保自己写的数据能够读到就可以，读的时候不需要考虑数据从中间层级还是最终的memory来的。
<img decoding="async" loading="lazy" src="/assets/images/23495115-a5561afc439e7cb1-eb9005c013ccb691557ac3224373fdfc.png" width="1200" height="615" class="img_ev3q">
当 AxCACHE[0]（AXI4） 置高时，表示该传输事务在传输至目的地的途中，可以被 interconnect 或者任意的 AXI 组件缓存，延迟若干个周期。一般应用于写传输事务。
cacheable代表了是不是要去这个cache中查找自己需要的数据。要不要更新cache。利用cache来提高性能，有些操作是要求绝对non-cacheable的，比如device 内部寄存器的访问，这些都是MMR。只能使用non-cachable。</p>
<p>对于Response， AXI3和AXI4有区别，<strong>AXI3只需要收到WDATA就可以回复response，AXI4则需要收到WDATA和AW都收到后才能回response</strong>
<img decoding="async" loading="lazy" src="/assets/images/23495115-f99f0d7eaafe4533-16d23097efd36bd6bb61aab1f4361dce.png" width="1200" height="600" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-0b406218564dc673-0e491a1d2860166efc887d19f225d3ba.png" width="1200" height="595" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-ff050a596edbad09-ec1bb260264fa6c35c80647005c74d44.png" width="1200" height="598" class="img_ev3q">
Lock transaction 锁的是总线，对总线性能影响比较大，只有早期的CPU会使用这种传输，现在新的都是使用exclusive类型的transaction，monitor会检测地址是否已经被某个master占用，当master发现所访问的地址被占用时，会进入类型低功耗模式等待，当占用的master使用完毕后，会能够产生唤醒的信号，来唤醒等待的master
<img decoding="async" loading="lazy" src="/assets/images/23495115-11b6705c33e159e0-c45c6dbfcbd7d8003817cf1d3f939ef5.png" width="1200" height="609" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-1274a0e3e79cff27-eb73daa7b44003989e4b1e55dbe3fcfd.png" width="1200" height="622" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-26dee86b92a7dccc-47796b163e408663529832f0d9ab36fd.png" width="1200" height="563" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-93b0b7e85bf733df-b41cf49d8483b163af9d08c6be8ab185.png" width="857" height="628" class="img_ev3q">
AXI4 去掉了WDATA的interleaving，降低总线设计复杂度，减少slave的缓存量。
<img decoding="async" loading="lazy" src="/assets/images/23495115-e8abfd5e3ae84d1a-19aa4ee10b8301481f3c6bf046b460b1.png" width="1200" height="510" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-4de644a9adb9d94f-7622a3f7e0c9ca7c3769e82ead5b8129.png" width="1200" height="413" class="img_ev3q">
Atomic
<img decoding="async" loading="lazy" src="/assets/images/23495115-5fb1649652a3a1e3-8adabc9ad7347aeec50fb8a6c5a3790a.png" width="1200" height="539" class="img_ev3q">
Locked Access - AXI3
<img decoding="async" loading="lazy" src="/assets/images/23495115-f5363cf6c3998669-9db7822da8fd02ec997246691e2fdbf1.png" width="1200" height="586" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-416067522a4540b5-4cea2502d6cbd465706eb71f4a918a36.png" width="1200" height="434" class="img_ev3q">
Exclusive accesses
<img decoding="async" loading="lazy" src="/assets/images/23495115-837b845a0d3c5bed-168242bd70b6fa9a166d1eaed4c10114.png" width="1200" height="554" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-2b92cf34f4fd39b4-cf7a7a15a25a033d26b79fa155d9ce81.png" width="1200" height="559" class="img_ev3q">
exclusive accesses必须返回EXOKAY才是更新成功，OKAY表示更新失败。例如当M0进行exclusive accesse的时候，如果M1也在这个时候对同一个地址进行访问，则会返回OKAY表示没有成功更新。
Exclusive accesses 并不是单独的读或者写，而是搭配的一套操作，例如发送一个Exclusive Read 然后又发起一个 Exclusive Write
<img decoding="async" loading="lazy" src="/assets/images/23495115-4f283cd732b72030-43fef511141ad6474b7e75ccbf085fe0.png" width="1200" height="588" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-aa1db9d41cf35512-29148454dd12a9d97b55b4f8db23a16e.png" width="1200" height="597" class="img_ev3q">
Monitor会记录地址信息，ID信息也可能记录，ID1的Exclusive Write访问没有成功是因为ID0之前的exclusive accesses已经完成，对应地址已经被写入修改，monitor清掉了当前地址的flag，当ID1进行Exclusive Write访问的时候，在monitor中查询不到对应地址，所以就返回OKAY，memory更新不成功。这种独占访问实现非阻塞的行为，与LOCK访问相比，能够提供更好的减少总线性能的损失。</p>
<ul>
<li>
<p>Transfer ID
master和slave尽量在内部实现缓存，避免通过反压总线对其他master的影响
<img decoding="async" loading="lazy" src="/assets/images/23495115-fc9519bf36896b80-15e49ea978ab06088d9bdc2a8ac573c2.png" width="1200" height="609" class="img_ev3q"></p>
</li>
<li>
<p>Write ordering rules
write interleaving -- AXI3 only
<img decoding="async" loading="lazy" src="/assets/images/23495115-4e3363d736cdddc7-dc390d096c398c172db103ada714353c.png" width="1200" height="639" class="img_ev3q">
不同ID可以支持out-of-order（WDATA的interleav只有AXI3支持，但是response都可以ooo），相同ID必须保证in-order
通过interconnection保证in-order</p>
</li>
<li>
<p>Read ordering rules
<img decoding="async" loading="lazy" src="/assets/images/23495115-4aacf42fa12fa129-ae65a41681df6f10ea65f04cb0317cce.png" width="1200" height="600" class="img_ev3q"></p>
</li>
<li>
<p>Read/Write Ordering
<img decoding="async" loading="lazy" src="/assets/images/23495115-259bad410584adf3-5af30cd72aed46c5b77b128c137a5261.png" width="1200" height="604" class="img_ev3q"></p>
</li>
<li>
<p>Unaligned transfer
<img decoding="async" loading="lazy" src="/assets/images/23495115-576b23567f7d98c9-ae2907286f3e6ec6527d343f99a40186.png" width="1200" height="546" class="img_ev3q"></p>
</li>
<li>
<p>Endianness support
<img decoding="async" loading="lazy" src="/assets/images/23495115-9ac34fc1da8b4366-f9d05a4907cc74d25c78094f74490bcf.png" width="1200" height="602" class="img_ev3q"></p>
</li>
<li>
<p>Write interface attribute
<img decoding="async" loading="lazy" src="/assets/images/23495115-ce7658449fc937bd-86fced2a315738d092f8a3917665fccd.png" width="1200" height="605" class="img_ev3q"></p>
</li>
<li>
<p>Read interface attribute
<img decoding="async" loading="lazy" src="/assets/images/23495115-80a1ff1b778aa380-3541a6fda44a863066add55a19038181.png" width="1200" height="565" class="img_ev3q"></p>
</li>
<li>
<p>Interconnect Memory Map
<img decoding="async" loading="lazy" src="/assets/images/23495115-0cf9b49ecf4ac8a4-fbd86ce4cd77523d6e42b4bff5b7fbfd.png" width="1200" height="725" class="img_ev3q"></p>
</li>
<li>
<p>Bridging
<img decoding="async" loading="lazy" src="/assets/images/23495115-c5c067411684a24a-a2bfa1b0111353f4974f2a451feb7036.png" width="1097" height="556" class="img_ev3q"></p>
</li>
<li>
<p>AXI ID Use
<img decoding="async" loading="lazy" src="/assets/images/23495115-870f3684f72e5289-3f7026fde3b3af25993b30855848b9dc.png" width="1200" height="646" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-7e123ea5dcc06c8e-4cb060437fd84aecb7c4911bc388aaa4.png" width="955" height="647" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-fddc4a9572c438c4-29b401572d0cff6409a4fd8a2e9f5572.png" width="1200" height="666" class="img_ev3q"></p>
</li>
<li>
<p>Deadlock
<img decoding="async" loading="lazy" src="/assets/images/23495115-a1a2ebbc1d085ea8-a49dd9e4c3765888c6fb8bb4014f3c15.png" width="1200" height="465" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-a8da179cd654f15e-72cdc950c6865f675020d17fe1ba07d4.png" width="745" height="527" class="img_ev3q">
single slave模式是说总线会判断当前master发送的操作是发往与上一个相同的slave还是不同的slave，如果是不同的slave，则会先block住当前命令，知道上一个命令从slave返回之后，在发送出去，避免出现返回的两个命令被re-ordered，造成read-deadlock
<img decoding="async" loading="lazy" src="/assets/images/23495115-2b3463d8518c6e2f-772510b01a6bd51b39272b1786fa641b.png" width="1130" height="377" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-df3cad297eb0d473-57058dc572596233c2f5bd60257d1188.png" width="1200" height="315" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-a39d2d28acc15065-4dd56963e523c703f2652c084ed8b511.png" width="1200" height="426" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-5758cc4a797d3ef9-0412242f12b50becf7b306ff4071c140.png" width="1200" height="616" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-ccc14c0da790825a-b9d5cc3d4872243b0ebc8042ed40ac66.png" width="1200" height="640" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-4e7d0f69f2a7acfc-2a8d43ead27a15c07e7441203974fbd5.png" width="1168" height="643" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-85a2d0b6bc0326f9-bd245fc848d6d902133fb7c7c8db1887.png" width="1200" height="619" class="img_ev3q"></p>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="axi-streaming">AXI Streaming<a href="#axi-streaming" class="hash-link" aria-label="Direct link to AXI Streaming" title="Direct link to AXI Streaming">​</a></h4>
<ul>
<li>Memory-mapped
AXI3 &amp; AXI4 &amp; AXI-Lite
地址映射型</li>
<li>Streaming
面向高速数据流
数据流单方向，无地址
无限制burst</li>
<li>应用场景
Signal Processing
Video Processing</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="axi设计的关键问题">AXI设计的关键问题<a href="#axi设计的关键问题" class="hash-link" aria-label="Direct link to AXI设计的关键问题" title="Direct link to AXI设计的关键问题">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="axi设计要点">AXI设计要点<a href="#axi设计要点" class="hash-link" aria-label="Direct link to AXI设计要点" title="Direct link to AXI设计要点">​</a></h4>
<p>前面我们在视频讲解课程里面，讲到有关AXI设计需要注意的一些点，这里我们再来看看在设计一个master或者slave，需要事先考虑的知识点：</p>
<ol>
<li>AXI的哪些特性是不需要支持的？<!-- -->
<ul>
<li>Memory的属性需不需要支持，比如secure/non-secure，bufferable/non-bufferable</li>
<li>Lock（AXI3）和 exclusive访问要不要支持</li>
<li>是否支持Write Strobe</li>
<li>是否支持QoS的使用</li>
</ul>
</li>
</ol>
<p>不是所有的AXI信号都是必须的，有些信号是可选的，对于Slave来说，以上输入信号可以悬空；对于master来说，AxCache信号输出为0b0000，AxLock信号输出为0，AxQOS信号 输出为0b0000, 对于master信号的缺省值，可以参考文档AMBA4协议的 《A10.3 Default signal values》</p>
<ol start="2">
<li>AXI接口特性</li>
</ol>
<ul>
<li>Slave Interface 特性</li>
</ul>
<table><thead><tr><th>Attribute</th><th>Description</th></tr></thead><tbody><tr><td>Write acceptance capability</td><td>Slave能够同时接受active write transaction的最多个数</td></tr><tr><td>Read acceptance capability</td><td>Slave能够同时接受active read transaction的最多个数</td></tr><tr><td>Write interleave depth</td><td>Slave的写通道在接收数据的时候，能够支持的active write transaction的个数</td></tr><tr><td>Read data reorder depth</td><td>Slave的读通道在传输读数据的时候，能够支持的active read transaction的个数</td></tr></tbody></table>
<ul>
<li>Master Interface 特性</li>
</ul>
<table><thead><tr><th>Attribute</th><th>Description</th></tr></thead><tbody><tr><td>Write issue capability</td><td>Master能够发出active write transaction的最多个数</td></tr><tr><td>Read issue capability</td><td>Master能够发出active read transaction的最多个数</td></tr><tr><td>Write interleave capability</td><td>Master的写通道能够支持的active write transaction的个数</td></tr><tr><td>以上特性决定了master和slave在设计上的复杂度，capablity的值的越大，代表master和slave要用更大的buffer去存储active transactions。</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="设计axi接口ip的考虑">设计AXI接口IP的考虑<a href="#设计axi接口ip的考虑" class="hash-link" aria-label="Direct link to 设计AXI接口IP的考虑" title="Direct link to 设计AXI接口IP的考虑">​</a></h4>
<p><img decoding="async" loading="lazy" src="/assets/images/23495115-58a05b1afc44ee5d-21a2712a72ddcd001feebff7fe49c7b8.png" width="1037" height="638" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="/assets/images/23495115-06b2502376815336-cbd6759adb23b98d01dbe38691251d01.png" width="1200" height="443" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-68dce360bdcb441f-21b2573be2c8536fb443495904c5158d.png" width="1172" height="645" class="img_ev3q"></p>
<ul>
<li>Slave Implementation
<img decoding="async" loading="lazy" src="/assets/images/23495115-9143c6cbb9f8e8ed-5d05ab0d7547275dd9e426fe17d5e431.png" width="1200" height="583" class="img_ev3q">
slave可以通过将相同ID的命令修改为不同ID的命令来进行ooo的处理，处理完之后再转化为in-order返回给master</li>
<li>Master Implementation
<img decoding="async" loading="lazy" src="/assets/images/23495115-2d6c76c7c6ac0e2b-f6ea5f0b6a3011e7555f475e9ee3a2b6.png" width="1177" height="639" class="img_ev3q"></li>
<li>Debugging
一般不会加很多逻辑去检测总线错误，默认大家都会遵循规则。
<img decoding="async" loading="lazy" src="/assets/images/23495115-0426fbf380de1528-1af84e883b503223c5e067861f5f0f39.png" width="1200" height="556" class="img_ev3q"></li>
<li>Compatibility
<img decoding="async" loading="lazy" src="/assets/images/23495115-c1a7b7331a551f0d-740e8af0e16046fa27c27cff72b60a2a.png" width="1200" height="442" class="img_ev3q">
slave最好是能够动态配置ID的位宽</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="interconnect拓扑结构">Interconnect拓扑结构<a href="#interconnect拓扑结构" class="hash-link" aria-label="Direct link to Interconnect拓扑结构" title="Direct link to Interconnect拓扑结构">​</a></h4>
<ul>
<li>AXI Interconnection Architecture
<img decoding="async" loading="lazy" src="/assets/images/23495115-2fd18c4767b38f27-83d25aa4f5515512972ebdbd2c805863.png" width="1186" height="654" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-dcc8e76ba410321b-646dc6b3f300a914c45b6163c08c97b1.png" width="1200" height="584" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-d70c90509f18ee03-cbacf318e074158db7039a9e2fadbc22.png" width="1200" height="553" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-9dfe2cbc33e09ee8-cb5fb80c1280706cc0daebeeb4178d13.png" width="1200" height="600" class="img_ev3q"></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="仲裁">仲裁<a href="#仲裁" class="hash-link" aria-label="Direct link to 仲裁" title="Direct link to 仲裁">​</a></h4>
<p><img decoding="async" loading="lazy" src="/assets/images/23495115-b790453c647a764a-92090f15cf21c49e436a8fb9b8ea7433.png" width="721" height="565" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-a5a98d581538a8c7-bbfb2a489f8d2be3b57f120cd95c4a08.png" width="1200" height="583" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-29a56d47234feb07-c99e61051defc951c222211e7b4f8549.png" width="1200" height="531" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="时序收敛">时序收敛<a href="#时序收敛" class="hash-link" aria-label="Direct link to 时序收敛" title="Direct link to 时序收敛">​</a></h4>
<ul>
<li>Timing closure
Full Registered
Forward Registered
Reverse Registered
<img decoding="async" loading="lazy" src="/assets/images/23495115-9d45d7d5c5f80ad1-0367c61143c6a2c04e9d0a98edc8ab2f.png" width="1200" height="683" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-567711e65c372f22-f19e8ede0c404d0bb05c227e98671d76.png" width="1200" height="626" class="img_ev3q"></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="如何评估性能">如何评估性能<a href="#如何评估性能" class="hash-link" aria-label="Direct link to 如何评估性能" title="Direct link to 如何评估性能">​</a></h4>
<ul>
<li>Bandwidth（带宽），Throughput（吞吐量）和Latency（延迟）
<code>Bandwidth</code>是指理论上数据传输的最大传输率，而<code>throughput</code>指的是实际数据传输率，以AXI的写通道为例，写操作的数据带宽为：
<code>Bus clock-freqency * bus width</code>
很明显，这是一个数据传输的最大值，但实际上数据传输受到很多限制，没有办法达到这么大的数据传输率。
<code>Latencyt</code>是一个transfer或者多个transfer从开始到结束的时间：
<code>Throughtput = Nd/T * f * bus width</code>
其中，Nd是transfers的个数，T是指整体Latency时间（单位是clock cycle数）
从以上公式可以看出，一个bus的throughput或者有效带宽是跟latency，bus clock frequency，和数据bus的宽度有关的。</li>
<li>Latency源
在一个bus系统中，跟Latency有关的有以下几种因素：</li>
</ul>
<ol>
<li>
<p>Bus Protocol Latency
不同bus协议传输效率是不同的，也会导致transfer的latency不一样。比如AHB协议的传输至少需要两个clock cycles，一个用于寻址，一个用于传数据。那么对AHB协议，一个transfer就需要至少2个clock cycle latency</p>
</li>
<li>
<p>Arbitration Latency
当多个master要同时访问共享资源的时候，这时候必然需要仲裁，一个master可以访问，那么其他master就需要等待了，这个等待时间就是arbitration latency</p>
</li>
<li>
<p>Slave Processing Time Latency
如果slave不能及时响应的话，slave就需要在总线接口插入wait-state，也就是告诉master或总线的等待时间，这个latency一般就是wait-state的周期个数</p>
</li>
<li>
<p>Clock Domain Synchronization Latency
在一个复杂的SoC系统中，经常会用到异步时钟频率，这时候我们就需要做跨时钟处理，因为在做CDC的过程中，需要synchronizer，这时候也会带来一定的latency</p>
</li>
<li>
<p>Bus Bridges Latency
在一个SoC系统中，我们也会用到多个协议，因此我们需要引入协议转换桥，比如AXI2APB Bridge，AHB2APB Bridge，因此也会引起latency</p>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="outstanding对性能的影响">Outstanding对性能的影响<a href="#outstanding对性能的影响" class="hash-link" aria-label="Direct link to Outstanding对性能的影响" title="Direct link to Outstanding对性能的影响">​</a></h4>
<ul>
<li>Three major methods to improve BW<!-- -->
<ol>
<li>outstanding</li>
<li>Out-of-order（ooo）</li>
<li>interleave</li>
</ol>
</li>
<li>Outstanding
outstanding 可以改善平均延时，但是并不一定会改善绝对延时，可能会导致绝对延时更差
<img decoding="async" loading="lazy" src="/assets/images/23495115-81ef5423ff2ea319-908b466bc04bcc7b5961254bc6646df1.png" width="1144" height="468" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-ed80f4289e91cd66-7d239a66d4011fd299eb01ec44b5b288.png" width="1059" height="666" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-b69a24f6715eba49-248dee4d7735d869bce2604fa1a05ffb.png" width="1200" height="662" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-2e47e1c1a81c93cc-ef4b3a0b0e977999600c6562bfb2dc1d.png" width="1200" height="632" class="img_ev3q"></li>
<li>Outstanding个数
<img decoding="async" loading="lazy" src="/assets/images/23495115-f46781897a98234f-efb1a5777c6813e99c06134643577f90.png" width="1028" height="584" class="img_ev3q"></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="out-of-order对性能的影响">Out-of-order对性能的影响<a href="#out-of-order对性能的影响" class="hash-link" aria-label="Direct link to Out-of-order对性能的影响" title="Direct link to Out-of-order对性能的影响">​</a></h4>
<p>假如不支持out-of-order
<img decoding="async" loading="lazy" src="/assets/images/23495115-93bc5d17dfb9d78b-dbc0e71ef89851e71a6778390f58e30a.png" width="1200" height="626" class="img_ev3q">
支持out-of-order时
<img decoding="async" loading="lazy" src="/assets/images/23495115-d37b36c856ac302b-f21ceda8fdfd9fa59d13f7a3caf87a92.png" width="1200" height="589" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="interleave对性  能的影响">interleave对性能的影响<a href="#interleave对性能的影响" class="hash-link" aria-label="Direct link to interleave对性能的影响" title="Direct link to interleave对性能的影响">​</a></h4>
<p>假如不支持interleave
<img decoding="async" loading="lazy" src="/assets/images/23495115-aeda50a5ec9649eb-5ddaadcb9a21182ed95ef8410a27b549.png" width="1088" height="691" class="img_ev3q">
当支持interleave
<img decoding="async" loading="lazy" src="/assets/images/23495115-2ad515dd5fe8cecc-827f8d3fb4b1a4abca1414c4393670e8.png" width="1082" height="610" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="提高bus性能的其他方法">提高Bus性能的其他方法<a href="#提高bus性能的其他方法" class="hash-link" aria-label="Direct link to 提高Bus性能的其他方法" title="Direct link to 提高Bus性能的其他方法">​</a></h4>
<ol>
<li>
<p>QoS</p>
<ul>
<li>Qos is mainly for latency optimization
How to transfer QoS
<img decoding="async" loading="lazy" src="data:image/png;base64,UklGRvglAABXRUJQVlA4IOwlAADwoAGdASqwBOkCPpFIoUulpCchoVL5sOASCWlu42cEpbyXfV9CtzHz1IN6U8jxyM4DuBeYB0J/MP5V/UAf0/qgPRm8ti/k/O/+r7eP89/dvHvybezfH/mtdieZ385/AP7f/CehP7D+RfyX1F/Z29RgD/Re8b12lpQ7Z/uiANdhGvHmfBkvODJecGS84Ml5wZLzgyXnBkvODJecGS84Ml5wZLza3bCvkVuDag7SpcfpunuWU+j0uuWnfLX0EytVh0SKb2Ml5+iD74AYa9XjzPgyXnBkvODJecGS84Ml5wZLzgyQt15dt7b23oUNDoioMZJA9jcbqy3nvsSoXYHS5M4Ml5wZLzgyXnBkvODJecGS84Ml5N0sPPvM3zmLCZpbsDwQuK4Bbt0J8/2eFHxIphswa4Whb7mTG4aPdT1hcx3tef1eb91GDYiGjQNdhGvHmfBkvODJecGS84Ml5wZLzgw2gIOP51Un4nETNTaMKe+ZHXDWgk0OGP0cjEmM0XJjaKn9kvmbMp+IH2xlv+YV2L5/1EKS/ms7ok+KZdflrQ67g6i10mcGS84Ml5wZLzgyXnBkvODJecGS8m6hfGAQTBhrdkRQnsebzSqmFYiyXnT9sqJlGydDyxOBrsI148z4Ml5wZLzgyXnBkvODJC3pjAPl+XBdeqkQlFoJX3681/BkvODJecGS84Ml5wZLzgyXnBkvODBkb2ZeVEpM2T1BqQCuA2hFB4+QhGnqDE4VDUUpcf02XePfyfEJPpfJZCk3VpzBENoJv5JSp2gG8OeLcKI5wNdhGvHmfBkvODJecGS84Ml5wZLzgXz2Grh17gMuwlrLhFK9JzXC3oYC/5WNzqX9BKln0RFvrbyJYYjjHKwDTPIcYGBDvMs5YI2PfIx/1grzkvODJecGS84Ml5wZLzgyXnBkvNpm5euP03YioKN0ZWiSJNVEjlb5ML5uBY2agEQjrV+QPmeogqCNlSp8FrM8PzkvODDVWAb+DJecGS84Ml5wZLzgyXnBkvODJeSOf4sQKJDjIFN5DZNeXXjLwiz2mkq1wPFyg6n9NipUlk7M+DJecGDiWuBugg0R8UNePM+DJecGS84Ml5wZLzgyXnBkvOByXLm21PkZLz9NE7eml1kYqjP0cE0UvmyQ5Fbg2oO0qXH6aJ2+CiB/WpIsuFkhxXcXLj5US4/sJLzgyXnBkvODJecGS84Ml5wZLkExaRVBIS8eXTI1oz5odTKAHATkZHSxe5XRv4I/GaxHs4G4fqbSzaBceufLtP85bIkB8hiYTecGS8m0rPlE6BvYSXnBkvODJecGS84Ml5wZLzgyQt6dfPeNdhGosx/YfD42AXRnyFG6r1kQ6CwwUtnMlCT9RlmkN2xiyYntBgkSCt24WgweZ8GGiScRnwZLzgyXnBkvODJecGS84Ml5t91c1TxgDB+LWdQ0USKb2MlzcvPlibafCJ8sjZDkVg4BBMjH4rDpecIQGn47/Xb5/skR6PaeBrsI148z4Ml5wZLzgyXnBkvNvurvt/v+oYzjHQDzGS8+WRqNyK17hwuBTexkvOAzGZpY12bbY5evY/kbUHaKV/JB0bU5LzgyXnBkvODJecGS84Ml5wZIW9P/SZwZLzgyXnBkvJrSq8eZ8GS84Ml5wZLzgyXnBkvODJecGG0BPpcmcGS84Ml5wZHbjLsxa6u4DA0z4Ml5wZLzgyXnBkvODJecGS84Ml5wOSy6FicDXYRrx5nwMFTS1vgvne7JfHww/j0/BmRtQdpUuNoS1vHZhbI4QS8OYi7JeGLGVH0YkU3sZLz9N2R2zxuYAphytjwNdhGvHmfBkuQTHsDXjzPgyXAAlDUFEhVS+89e52/fgD8t/Q7iZvhRYTvptcmVtMxC164iaFMlhda3MRGQjMs55CDhXXMC/uDPQNEkYPFraOD2cX8otIw4ucg22vrVSVV48z4Ml5wZLzb7q8Er8z4Ml5t8kY95HnlcJ/GwnvMb9hscmcCn0Z/p8As4h6sAGAH8A3JODS8z7AtYiUgItiqJuHNYoVtaGvHmc0Jsw8z4Ml5wZLzgyQt6f+kzgyXnBhtAT6VEDjmwnWgr0xV1VexkvOYfeYrnexfeSEtL0Z+mjZDkVg4BBMmq4BHYPTz9NSbDKgm6MWa+vb0ST5nwZLzgyXnBkhb0/9JnBkvODDZ8mEoKT8iZ8BgaWGNyK3BtQdIudA03ZIcite7UHaTkkn3GLPWqA7qRS7UHaVIx3A9rs012ENN2SHIrcGy4Xj64VErl48z2+6vBK/M+DJebfdW2Ea8eZ8GS84Ml5wZTwmmcGTJaD/1UndNaZX3g2CdDYRTkvNvurwSvzPgyXm33V4JX5nwZLzgyXnBkvIZLKMrxDometfnJe4dBPO6NEbu6KRXPCU554q1q/N1Ra6TODJC3p/6TODJecGGz5MJLzgyXnBkvODJebVXQEW1PHmfDypzsQrTmuQSqmIg/b8yJSDyOxdolkBSBcmpyXnA5LLoWJwNdhGuyY2yXnBkvODJecGS8ioImY6eG0PEN1NsPqJlX+NJ8vu/qrDqAS5Nw6J4t5c2biQk2r/rzX8GS82+6vBK/M+DJebfdXglfmfBkvODJecGEChe5/1FQLrBYSP4jraSj9WL0fuPzTDovBEAwAAPYSXnA5LLoWJwNdhGuyY3I05LzgyXnBkvODJfAf6jepV8HrCdfnJcsEuD0BoBPmJE/Q6ZqOzkbyNd7CjN64lSHcZbUpSwNdhFrSnyL85LzgyXIJPJecGS84Ml5wZLzgwjh2yRE2G/cTODJcEKDIcDTlRU5xIT8qtIsaMVKmrNzQBwpPfjzPgcllp9BJodXKir7GTzBgCY9ga8eZ8GS84Ml5wZMW9GcGS84MjniddK/M+DJcgmOecFvMw+1MMXXtkxOTAAeCM3DGQ4vbptDHFMQgsB9Uz5MJLzgyXnBkvODJebTL+b4qu0vW56ZjkvODJebVsWORsG+QX5E0R+Z8GS82+6ujb/gxCWJ224Gwu7jA2nGgShZiiQ63ykrLpfV37S8hiXAlQVZIxNSeFrSnyL85LzgyXnBkvIpunM3DOMkkVLwFeFsOYXZgq9jJebQlqEF5PDhf+Tnj8Kehx+jb+VD3lZw2BlZSNmQgNQUSHGQKbDNkaLjErkgPWVvKzSbd0I8jOJ1etAgGxQFWpk533MzPYgIWv/NUgR8lecIMajtYr7aPgokKzelwkvqWUfpuyQ5Fbg2oO0qXH6bskORW4NqDtAKGLQcukmvo12Ea635JENRMwJLUxd8TghUqhEEKWz+IJJIFv4wqS1rGL5ZKe4gcesm++Cn3PAO72yA148z2xd6s46fuelRFEQujWXivdJ3seMaU3VS+lD5SFrGZ/XeX6B411CEDYR6j0l1pFttaguKBiKmyHIrcG1B2lS4/TdkhyK3BtQdpUuP03RG+vQ54ZnwZLhY3MFe8gQCs9yRIfuIumFbW3P+MnXPN0GcwjHB/2JjUar6gxAqwlf3aZsI1479ea/gyQt6PNJr1NkUBbJ44PkhHyCa/csm67dEGquVvt6brjPrLBGT0P+TuhAiwrF9ZV7e0/Cd1rcuRJmhrvB8Epq00CGQ4FNsIlS4+rYQgNQUSHGQGZc+lRedianJb7Yt//oci5ZzI/RnyyNjt8vSXS2KdHihJKZLzgyXnBkvODB/lDJUuP0OK329jS2rOAmecCiQ4yBTexkvP03ZIcitwbUHaVLj5V0aA5OBqN48bJr11tgkVfhqCiQ4wK8GcePGDjxi/Z64jPgyXnBkvODJecTSmQoasbrfLE4GuwjXj0cbA8DXrrXrjXGvBsgyJ/Cy148z4Ml5wZLzgyXnAoDRe8tI/apB7dA148z4Ml5wZLzgyXnBkvODJecEclgoR4a7dc2ZP8eZ8GS84Ml5wYPNbYzp1t7GS8yOgdLqEhxOUaXH6IQKvtPP2SYnA12Ea8eZ8GS84Ml5wZLyPgzNuZmPzPgyXnBkvODJC5HpyjIuSFMzCpZDo841hJecGS84Ml5wZLzgyXnBkhb0xfnJecGS84Ml5t91bJ4enhRqV1qb8RHGPYigBsYE2NDnYXPnkh00rbmsNePM+DJecGS84Ml5wZLzgyOo/6HOZ9QkhqCiQ4yBTexkvP03ZIcitwbUHaVLj9DlE7LOMQAboq6ZI/AgKGUtFX25a3alQnZZj7//n71P/uY+kuKMWr3Oh5nwZLzgyXnBkvODJecGS84V23tvbe29t7b23tvbe29t6FdYROuAChICGGCaw148z4Ml5wZLzgyXnBkvODJecGS84Ml5wZLzgyQt6Yvzp961xigrE4GuwjXjzPgyXnBkvODJecGS84Ml5wZLzgyXm06QGIIZqrMiBZApvYyXn6bskOIJ0QnWjFNsI148z4Ml5wZLzgyXnBkvODJecGS84Ml5wZLzgwi/sB3t0DexkvP03ZIcZ9tTqBhaCZwZLzgyXnAoAAD+/5WEAAAAAC90FbJ5A+TP08m9ll/5XRiqPMVzDZWcqWJYDRwFoQxIEwHjmDXzXpNJ/qaIDwyGjZb2g0rpLAtE2vr0cBeMajkzcxdV51Xn09fRdhW/6STx1DQHhB54wAAAQuh9FpmYJb+0yaAMLSozFTq3tlTon8yZNRGpaD6QEIxwAAAAKjiAQz7um8Sy0gPtkubAVkBvSGTnFSmnjAN64p49sntSLT183eS0IcPgsRRl97nOCcy7ydzLqzkVoyE8V9bWyiIDL2Jh6kHqvas3W9CCaAA9UavNOPh6pgVOlqKIlTi4G/nU1PGRN7wGGJ1xFApC5XkRa9wLEHaG27tnVPd3aFEShFF4E3hgs8VvLUOzyh96hnpjWkPeB0Z0Ms6cldPpmq5CW8TE2d5hzqUCCHHeBxDbkeYW2xt0weAAzvcExspa81zaf5OOQl/XTsEeFq266ysj95iERLH1mzHoAAAaYzxKRIi4UMy+9wsQKLhpYBCt8MWBov9PCzG+j0uaX8Uime6iuVTjkCEiCX/8actBPXaS/RLS5Y6l9D/1DOVCrTUmZr995b12U9EnA4FBVAeQovzxb7sOhLfTsBjvzC7AOeSkElWJ7dWGSbk7fpjnWC3AXuK0S0CLBNlimQ89GaBIqLWUDgl4/UhsUsac/zYT+1E0ai4SByXgu53rgEhVoWtxgCII3m9tK48HCL5wl46UxUufG/KEIVrZBRNOhdRNVMM5D5yyLB5q8irxFTvmNDgsjnWeaHg8Rr8oOgDj3GZB4g3d2pg2J9iqUw3A8CN7s7Riw+PDULIKd7oli8VEyxOu/lhfZdssaqj7DTA8B1ZPsQwziu7YhzOS6c5v/o3vSM/ZJfHah9EhG61KYAAAAJcoGXM6/p6lwiC56JMM6AAAyoiECCi2H7krhdZiAABRIb8Vit8dSPxHZa77v8tzQeZUYFsaly9QigZ56qvmmCG9JUA6NHiLuQK8wNGPywqWS+9WjeDDtlCXTbks7TPk6db62mTomTAULWRl13ypcYEJu9hyQp83wzeqWeGUZx3vhvz1h0kEL/nZ+gUFqgQwpTp5ossRd7+oVIpAgQTWYZgcNGv3fk2AB7ldRYiOEAABMohMytyjC++ifVZI5ETv7Pp4JXHkEGvlFXc3ttrc/8qexPNz+rpfU/Fbj32YqdZa9ydQ7f2vmIpKjT/YQbVh58uVnpdRAxneNc+TK+jEBVQPOnYT3s3lBkK5JjWfCklaZCDbCnZWo4vl5TWOxJA1dnrMwZvD7+T03tzZP/3CrJbH2yl3KT1h/nJJVu7QtXwZdUGnYF8nsIA9P9JSOADrpJEj9nQmOx5giwuFM8AAAAi+PAhxY80EPcVHKL05y+uv6xz0JjdFYmNsAnvfonE2mD/tLfLzhq70r1AICtOW9tCteKD9ReJ03gY/RATo9kILYBZSE3Wp/GcdAGfeFNTaWkGgnA4ZhEvfQXLompnKGaZThE7JmEDjt2YjbXeceT13RTY+AFvpHzQsPqQaahS6HNkO/OeQNo5w9/w3Gm3qMcB2H2in7EobqM7XGrurbjfWU/iw/19bp5BctNvyo11UpVy8EAYYI57XJp9V/osXk7XWXoIJAkuj6pdALGXu9Xl8EYsSyqXmawAL4/osAAABUp8Cf9JbV7dAII7+8tDPXPMVCczjD3XhogtjKY+VHpj0UrnR+XzJ9vxo68f/1gi1Tx+0q0xA7rJxlMmVm6ThPqLTiIoDpfrmoBiIUGcdqgPDdVkFKMqnCyVSUZ3kKjg/y0QJQUPCzq8awx0SZ1gdS+5nj9yWTk+WDqQrpcB+iv/xiLQAAQWx1bZLXxg7q28AR2U5ZYwH9XbWnvGS4wroAai7KQOtsGzYAAAJhxA6JGB8nsKgJWbWQPI3kHeRd+zEooDgkfOIgibpz6hn2l7AX1C6nwsaUagzd1cdincHKLBR9qIEkoGhDLJCM99JQJJPNQH+hyKwLU0XizKQnW+D8EaJodOuBx1wAEfeRFUeTRLACDGoXqGH3bhYgHJSXFMEAAdSnLoP4cWPQa5aNpcfgfIJ33mRApzZSrkYF1SoQHzPadcVrAXH43JdnZrt1d/vhUqJT339i6l1Kkx3967ka+iEu7JV5XBCrrn/l+xnlRXBiGajb5sAcrd1Y4jgr2j88iOJ8mRHAwy7Vb1i+7bDLRkXSHqCKCaBgWrrkSG6jXxkLLruNG3J0+YprG32MJf1AZeZEcNRbsbyiEBnyddzdj63qtnuNo0bSLD/EDeWwjr4kLDTzR1z31wNeSn5bO4wgIILuwruEpPujxvo2TTqW/0FF6ULsPWsYzvmLcBCWzmYIm+dRqHB7+6pXrL7Yu1chNrFMhICSWi9ElY3vH427/AHdKOuHIeO103T7f973l1a1y/IKrBuQxOnYZSszjThSdF31wsF/85kG2efsTigABJmqUaeY0fjS2cNfDeVvrHNNd9F6M1rTlkwi335SsMYJ1gdnk0PfZySTbcCz/Y3MrjaFHx0UqcIPvBN60ONob62l0BTTF6hLepmk7LGkeikumMavvht3h/LVfR0//j9UHfnezJ9VsC21lj1UZGXyKViaULMfEPaAHqRVuqAWWH+seNmsX9c8F9A5m8fnK+D3o9ZO2i0TnDA4RHTUuMfoaVH/BG+bd56BuFJTktbPcsIzqzjKzKpJ1Mu4JIkPw+EXq/Ic6AAE+1T27r+ffrLEV8H1xlVdIuc5ZeGewIhWBCKLgdNHboMgPQuA/PTOBPBHOrW5+RnFFkGrFJwqwsfjgbkCQQAuCuVF3ZPQ7sIPCO+qLjFuYQ/wCqJSRf7V0zbXl0qUgOdw/cKoY4AAslcFnkON7e/vVdvL3uC7dk2toVLRdsu/h0LOuFxciVIluArQ5GQD55feCzbMFcdCuzG7ZUBqLEsvDrAoIqWAWCZcH6HoIKBApCCJAAAAslbjgTsstJBGT3FAAAFJY8YBiQ2CFkennzjLMNPxX98R3WCK9P1Rs1TTFQ2ENaAoEJIAAAERY/4AaeiMtAiInO3mk1hu4jxzrZOQIWLOCErwTmbERKfnJ/6iHcdkXOMUHXMZACZGSKg/sNlzsaKWeckPuP6FeCz9zTpAk9LAUIf/V8ekIQ+ME2Cmy1IMa6BIbDDp7lrSgLhUPlRBmK3HF35kFTVueY52c8CQA+1ERCVhbRfVlUPTAMB6Kc63kHq8A4V/EBnVwKor2qYWpMXCu3lP5EqlO/jEsn/uSMJF4WO1HJjqgLJcTlIF/d/Ku/cB4FnyMS+8ey/WbJZHDO0mJ7aAGPuTJpGw3g22/VMNz9WivjyFOh15ijG1wsYtfVCGsHnywse337ejSpjUqIVZtR5poWgj63PIiK1G6ydzqwGWWtlz0BgFwddUsK0DqHTezR6N/1TppK1a+1KQSqXLS//NNXnXvBcincL5mljnc24lt7tqsPQNisM4gtAEmVQHLHmC41mVFqG59e8UVVNo+u+pJzxkxY45Gw89a6cDBprauxNIKcePgvC4Zd8kTChb455UHzRuze4hR0OB8q1cEvf/C6A0+X5gmqkNEpQ8Rx2/KizHocSmWijqO6wkx8AHZ31tbDO3BxMWfS1/CTA50Ez58F4pKKgXTl9q6T1SxJj0POCgEAB7FzWiPc/0nVHStiIxohR2sBVKWLDGtj2nuIZhbA38mh+Nfhh7auoQkjUY1R5x3jhBgl3hkzT6x8Cc0yIVGSpOAAaNnUE0xodN6BT08b/Y3f90YkniU6HwULhDSXRHfJFhYkRqKL8e+AW/FOaDIvh/vwhbxwWuAlxi78+9rfJ4kx2STyCDeiJhSPzmeWPppZ74o+UHq8labQ5+ebMiOY6/2rmPOLX2i7iz1VzXp4y7QEYZQJImsAEVOncErKxmvB+UqXhj8uk+92QYtIbz56yB7DDIZ4WlgTA3bTZcQMxW44Pla/gZKNLoH5en93E7cSbVbMt8ciKItzzIEknuFN1L5QJZ4Dduk6l+Obw4R+z9+79VVWVqar5rZN0hax6GoAebQUdL6k8tRF3ggrST027TefXLtVU6ZVsg+Rt9oDwMcYQTlj/gG7Qq8Ja4ZUV4EVycaq5m7kUH411ujIpsnO29VLmvX5QHiht8317wxNHtY6AOe4n6SNIAWdQrknF4nPACrHsgQGsLjvu3Na7fZNLIQjmXIMFRGkdFwk6aTseCWjBLRglE/dcvnzxiOgNqALCXcM0XatxxqiAJwIiIwLAHGzuXMZyzHQl55dgaLg4P7Ze97A9i48jgDCkBRNWpkRTSTgw/RE1zVqz6HX6L8eFo9zzFKQzxBfx8S8VtN81r8pcSeyQss53iNHhF3K57Js2swbP2JDdWDS9yezfblsPexXshT/yMCGYMB/5tU4QtnLyOiO18El4PfUndLtQEkVJ+CxECmtZTKInrx/ViL7JW45A1YgC36V9LJlXHAnQLuWhut6i+HtLLVcFQQW3iymp/lNg3u/3KylgO4cVbYsTZMlEHUzcqdONgNZUwykIO63USfnx1qHjmnSyUt7lvjdqT3Kms6tP1d4Vj0Pyrpavlw8q1QRBraH3f/VzzOsef/QLyNyQ/galWz3BAUnXq4KgkMgKTZpkk1+Pha10NHiV0tswcJ3uSP/+29XEE167tsA5Xux/zooXIAluxqEkL8CZ99OsCRM9WQbPPzhIGMT6tu+V4FfkpP/UoaYbf0y5qu5vxcumymqW7sFOH2aYyyWOpcKgLg6gDCX7Mx43j7UnNdJBFbi48YBafTYV+7F0z4+AmnmsKEGH1y8blVnSG3+RM9GJ893Nczf7WJu3VuOQRQJFg0Tz+b09woqZrp/I7vbasw181faJFQzGPVHzviq84/kIMrIVdVS10HwLh5VAyUYdq4KgsDAGG6XfPGrOx3DVpzsy+6HDX2AVyypQhIgfU1GSzngHHlWITAuw58+Wo1RfIBDUSfAFIk0y1jVXxYn1y6r/5qEZIlZgpp7AXfU4PhryV/IJU9stI+HSHZ+ObIPKJMeXgK/NVMksa/5L3dL3aPoXvyfELmhzgGe4+WEP1pIHmDwor5QQD2/xuzUNL5zHsoeOprP/jSsHEtB2TF5fzao3gFkgdibDVU0xsEIzs9+BPIOv8H0/4/XJ4GoGTit3rgyO42voGq1ji/ek5RGS0/mxWue/d67vzW7TuF8xw9yuWKcdSflhUnz59GOg0+8qO3YZfibGQiFj/puf1aAIM3SZH1hTh2wAB3M1UQtVbuaRcuQ82YyZHczPBQHL6Q7/uPdGdy7mXbk/5YDeCfHlzL4qDUXoQg3EaeBfpdVeuNT7OwMlVs0uvy5FpqWJR6sOvo3wozMh5RFSxzd1OGFa1OVkmP4LHEtQ25lBALkLRIkJIfLRuIVPnoRpj4XC+8a7TD9rQQIjYdFintdOV3gB0YVxgf3bkJFbWmb4rpbBk25dc3ZitYPjTbrrZT6ZGT4JF5eca1D9hHr00Z+1LbIux7gj0onGSVqwlBUEh4q/APZpzrtyAo+cIkI0IVO1Oa5Zf3DooGVg/UdF+HvevAcZHd6GjRitYX3KF2kWjeYBhMkl0Xi84WiYuP3pBUPGkTKSGGJIghXc2XTzJDc/P1h74T6unoY1rDSaUNNG/T9OIr6NLovp7Ut76ZenwZMUNEgNgHNbse5rcenq7/7Txz95X1u+XQIsGReMhpUitr0m2a889gnOwkKprBfqskdG47KQr9NjgY8NZvJRK0nA1xN7PxTlPgKTFd0cmbB92k4ZulBJgzTfjmzk7XxnrAp4M4suBfWPh5m5qfq9DSo4lCwWBpCKzNXZ4s84EA8+NmTr+GmcP7pokVgnncFq0a9xzgoi0rPxQKFfiaaQ/d+oag0T0Uwvf8ku3PbS8ORYzHP6tlpEclU5NNiy8Nt5lR8ZkMa8kfdPk7v6TvFcmdLvKPEVVvMzvpZmqoLdsCyQmxHQaW7HtwAi/5ravK/+HXkT/ISdm6vvCtMwZ8xl/jOUdXM5KvFjrvgh86K5CaoARef0WCOM+bFvbecBf1QwJ0tzObbJcLTFe4dgPniJw7H3ro0gEybZ7E1B6PHJktnlZRfKwitBxK8t2a4Bbi5pquGNEQ/os9Qht+EMfvK3E2itUBlAjoAP/JcQ6N0F1oW83+DBT4sy21P3k6MN1APbN82Rpu8TaH/EdWnTHZWDRMGnzw+GQ3MrjXsZwV/L2iThQwLU7I5rFwreG6C6l2kMvSF01/KS5yUS8TObJGkkWDhgJWKj6ksghDNs4fNa3FJV4V+K+8o0o+hIwQSHUPhRU87f3pz46gAyUqKw9ZMsHpetSHJ+uzIwmnKvj40aitGsOl/WcsoglXs7rb2D1GqcW2XY1AWip1t5jOTms8AuZJU/MHN0GU+2gbyF6Bboq8wzvLDjZ+eIxoIMjoXdcAQWe7WPEPqRn7hs8sOG+Ab6qtODWDj7WKPxPh2eneuq+bNm3T7CMM7hC8lelY3TsQ5m/iFaoFoRD3nGbiqAfyj9m6Ev9VOCXfZ9rfgVQ1VEQnFGTJl8amiTCjxIPdzVZbRQv52dqp1LAobjnNiw5ZAy25RXQEEIIml7TqwMFvoueP4cjIjhSxETQZc/v0nMYOWTl7HccaI7Yvm656p39IQYqO67QNxcscmX60zf29+PM22BblgZrCW8lM678qQxbxck9cLrv9bcVCTGviCM/xfCbM7sxhrS/Lcsb+l2LGlOha5fDKJ8x9OQh8XuAUgNaQwkMODjkOCwKh6HMVsNAvaPgznJ1Pld0iUB4eUzc3Zx2Rejxvj7onDAgU8cu/dOnYymoimmvyzX1+Wa+vyzX1+Wa+vyzX1+Wa+vy3e9fpUBT01r/UzlWQlehz+48CpZG1dy4POoW/aEhP7eUAY5IEwslueo/R2SEebNS4SSfpOn8MxX7cBaPECMPu1TcwaAChN/f13WveKuoZwfDSt9T3OYYBIljLEeDt0+6QpR+rny3A+jGz/ZNGaj+UIGSd+FXL7LHNwEO95vbDLYAX9CSBMOxWX/WyG/Lgt4oda38Zbp+E5+/JllNv+gIV2qJ/86TkCzoeRY0PggwXRFb3Lv5ORYI+R2y60nmDyiWKz7ud6FEMOiWtfXcPFzpDoInICaTQyxekC3wiYFOOVp1zpTuMqzIemj+Jpy6fVM3cQq/PEMwQUbV5EVgKwNDR3r0ip4aapKsVrkc+wUpJcPJmi4TJwmjo2PPAJ8nHEHAdV0vdTL6EC0UKHN77LVUtf4xFg44GK9aapK3Tz5ZBVvv1CTIoHVVkYhVI2woJx96v08qLkGz89Gn83uD4OZq1tb3usnfUWeMcZbxAKV09WaT8LP674oi5hCXcRC1Jb8Jg0aYp7FXTe59EpJ64KQf2CRf3fK7H3CTG4TItpJLc4ZhDRmrznF+8VQDzwZmtbxqKuP/G99XI/cYidngugwchC/mbZ6Om8M9nFinNhLgD/1e4IdwlnaMNGe+7ZfkQqJn36Dq8JRub1MpxWf4Jpe3qtTgB0TvLa55UFO2bBgysA3Gz9DftFxOyAcOoUINfouYuYtQ4Wbmic4tBaAcECjEyiPlFn4WkOI5n/G/qjJSzAFM5wAAAAAvxRzxaMAR99pixIkaS3EvYhW9D3sarL6CbdRKpdALP+DadAE869f+YqVHp2W+KJydcp4d2ngAAOD98bxOtYj+D8b2coNJ0SBtl3zbd3Rf6XF2v9lYywyIDd5AZe4embJCYgU1z2kBCqhn8+49CAzz2ewfZpjrYG04/Q30Z1nGTEuvtP5mRxMGiCdewyiSavfwJYeAwVpWmihV7x1P3r9EvqLXofuKrICE9Ge0kwWP/8s8c0LM43MhyfbrPdQFzQx4WTMwT5KExXtAqojQid0L7lKD0gLeJkCm71MACcMscVEBP3hh3QV4TA75ofmbNHQRj8QAIEtl+ls/FzDv0YAADKd+ARAewRx7axBsFToDGwvpUrbOCUqMzt0bPwX42uIFACViCeDzsIxfBmFDu0mPW2rPAWzD1oWCLUmY8tkDarIqccB4zCcWUjd35U7Xhg+6NVbTdCJth3KDnES4Lj9Ye7v0bflBUmIGAADYVdvaHpMdm9L0qWgO8NIiIOsuEz5GzsqTB+8jsy5VrNivlnwivlnvDLPeGWe8qXcrKwz5jU0w176/8LocBOHktqQjN84g9AeP4jSN2VCxEB/PCYWxCpczKrX79dGzWrdy0d+E9Qm7S4v+6L7YimA2PsH0kQxgOfYqVl2Lr4xCqu7KXmz5XwcsD5xpDuLFkSV+4+Q3YhLDxlNjE6zDhcIzPX+U0bEvgmChQlHWFGmgYCmCDhQHGFylPcl/N5SgYu+k80+psilC9zhqQJknY4ArQV9r7OkFBGIqZ3Z1Iua/eFQlBRLVs3v64GMF3ggAAAAAl8j9hY4F4FzYYelmggAAAIApVxAAAAaANg0iSnsvnmrRyewk+Zinx8qQvZFh8V8L5mpnfjsyvjjc6U5UAAAAfzw2VtKe7r6h812wBWiDgAAAAA=" width="1200" height="745" class="img_ev3q"></li>
</ul>
</li>
<li>
<p>Data/Transfer refine</p>
<ol>
<li>More friendly for DDR：<!-- -->
<ol>
<li>Address alignment</li>
<li>Increase Burst Length; Burst combine</li>
<li>Avoid partial write</li>
<li>Read/write group（避免写读写读的操作）</li>
<li>Avoid locked/exclusive access（尽量少用原子操作，atomic）</li>
</ol>
</li>
</ol>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="bus-和-ddr的优化">Bus 和 DDR的优化<a href="#bus-和-ddr的优化" class="hash-link" aria-label="Direct link to Bus 和 DDR的优化" title="Direct link to Bus 和 DDR的优化">​</a></h4>
<p><img decoding="async" loading="lazy" src="/assets/images/23495115-30e0f9332a5583bd-103070b2b083beedaa58ec6d798b4e69.png" width="1117" height="622" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-48e49a284690614d-b29f894c8d2d4a84eff4ddb966a25504.png" width="1200" height="683" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-222e7d929e332518-1c219b36031cc6eebe53933b9ad58920.png" width="1200" height="482" class="img_ev3q">
<img decoding="async" loading="lazy" src="/assets/images/23495115-1a1b045da942ead5-4054f5620fb2541e12ba8eb622fb6032.png" width="1200" height="687" class="img_ev3q"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/移知网课程/AMBA-APB-AHB-AXI.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/环境配置/（转载）Linux动态链接库-so文件的创建与使用"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">（转载）Linux动态链接库-so文件的创建与使用</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/移知网课程/DDR"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">DDR</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#axi" class="table-of-contents__link toc-highlight">AXI</a></li><li><a href="#axi设计的关键问题" class="table-of-contents__link toc-highlight">AXI设计的关键问题</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>