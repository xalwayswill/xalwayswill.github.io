<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-FPGA-IC/Valid-Ready打拍-TODO：自己整理下" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Valid-Ready打拍-TODO：自己整理下 | My Site</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://xalwayswill.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://xalwayswill.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://xalwayswill.github.io/docs/FPGA-IC/Valid-Ready打拍-TODO：自己整理下"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Valid-Ready打拍-TODO：自己整理下 | My Site"><meta data-rh="true" name="description" content="Reference"><meta data-rh="true" property="og:description" content="Reference"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://xalwayswill.github.io/docs/FPGA-IC/Valid-Ready打拍-TODO：自己整理下"><link data-rh="true" rel="alternate" href="https://xalwayswill.github.io/docs/FPGA-IC/Valid-Ready打拍-TODO：自己整理下" hreflang="en"><link data-rh="true" rel="alternate" href="https://xalwayswill.github.io/docs/FPGA-IC/Valid-Ready打拍-TODO：自己整理下" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="My Site RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="My Site Atom Feed"><link rel="stylesheet" href="/assets/css/styles.ce37c9a8.css">
<script src="/assets/js/runtime~main.c6730540.js" defer="defer"></script>
<script src="/assets/js/main.b7e3bf8f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">My Site</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Tutorial</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Tutorial Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/tutorial---basics">Tutorial - Basics</a><button aria-label="Expand sidebar category &#x27;Tutorial - Basics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/tutorial---extras">Tutorial - Extras</a><button aria-label="Expand sidebar category &#x27;Tutorial - Extras&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/FPGA-IC/8B10B编码">FPGA-IC</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/8B10B编码">8B10B编码</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/AHB">AHB</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/APB">APB</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/AXI4简记">AXI4简记</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/CRC生成-LFSR电路">[CRC Generator](http://outputlogic.com/)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/Coding-style">Coding-style</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/DC简明教程">DC简明教程</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/DDR3-简记">DDR3-简记</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/DesignWire">DesignWire</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/ECC校验【转载】">ECC校验【转载】</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/FIFO设计">FIFO设计</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/FPGA内部结构">FPGA内部结构</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/High-Speed-Links-Circuits-and-Systems">High-Speed-Links-Circuits-and-Systems</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/IC设计常用文件及格式介绍">IC设计常用文件及格式介绍</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/LUT实现逻辑功能">LUT实现逻辑功能</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/PTPX">PTPX</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/QuestaSim-仿真VIVADO-IP">QuestaSim-仿真VIVADO-IP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/RAM-三种模式">RAM-三种模式</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/Register">Register</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/SPI四种工作模式">SPI四种工作模式</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/STA">STA</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/Systen-Cache">关于CPU Cache&lt;sup&gt;[1](https://blog.csdn.net/zhangj95/article/details/81199272#fn1)&lt;/sup&gt;</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/VALID-READY-handshake">VALID-READY-handshake</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/VCS+Verdi仿真环境的设置及Makefile文件编写">简介</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/VCS-仿真-VIVADO-IP">VCS-仿真-VIVADO-IP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/FPGA-IC/Valid-Ready打拍-TODO：自己整理下">Valid-Ready打拍-TODO：自己整理下</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/Verilog_X_Bugs">Verilog_X_Bugs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/common-lib">common-lib</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/gotcha">gotcha</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/memory-compiler">memory-compiler</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/notepad++调用VIVADO语法检测工具进行verilog语法检测">notepad++调用VIVADO语法检测工具进行verilog语法检测</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/仲裁器-TODO：自己整理下">仲裁器-TODO：自己整理下</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/低功耗相关">低功耗相关</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/原型验证(Prototyping)">原型验证(Prototyping)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/双调排序Bitonic-Sort">双调排序Bitonic-Sort</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/后端">后端</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/器件工艺相关">器件工艺相关</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/基础知识">基础知识</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/异步FIFO">异步FIFO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/总线跨4K处理">总线跨4K处理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/直方图统计">直方图统计</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/跨时钟域(CDC)">跨时钟域(CDC)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/门控时钟">门控时钟</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/除法运算">除法运算</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/FPGA-IC/高级ASIC芯片综合">Reference</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/System-Verilog/Assertion">System-Verilog</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/save this to git code reponsitories/2021-01-27">save this to git code reponsitories</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/script/CSH">script</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/work-log---arm-china/2023-08-15">work-log---arm-china</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/work-log---g/SDC相关">work-log---g</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/功能安全/低功耗相关">功能安全</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/图像处理/3DLUT">图像处理</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/开发工具/Graphviz---绘制图形网络">开发工具</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/接口协议/CameraLink">接口协议</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/环境配置/Anaconda-配置多环境">环境配置</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/移知网课程/AMBA-APB-AHB-AXI">移知网课程</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/随笔/ImageData-sv">随笔</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/面试题目记录/为什么使用与非门而不是或非门进行逻辑面积评估？">面试题目记录</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">FPGA-IC</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Valid-Ready打拍-TODO：自己整理下</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Valid-Ready打拍-TODO：自己整理下</h1></header><p>##Reference
【1】<a href="https://mp.weixin.qq.com/s/8gXX1cBkVnvhBfXevKSBfw" target="_blank" rel="noopener noreferrer">https://mp.weixin.qq.com/s/8gXX1cBkVnvhBfXevKSBfw</a>
【2】<a href="https://blog.csdn.net/cy413026/article/details/88698824" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/cy413026/article/details/88698824</a>
【3】<a href="https://aijishu.com/a/1060000000192860" target="_blank" rel="noopener noreferrer">https://aijishu.com/a/1060000000192860</a>
##握手信号</p>
<ul>
<li>无气泡传输
<a href="https://www.796t.com/article.php?id=185983" target="_blank" rel="noopener noreferrer">https://www.796t.com/article.php?id=185983</a>
src_req可以在dst_rdy为0时拉高，充分利用自己内部的以及缓存。
什么是气泡？
我們看整個流水剛剛啟動時，此時中間插入的這些暫存器沒有任何有效資料，這時ready從0到1啟動流水，但receiver卻不能立刻拿到資料，因為資料從sender出發往後傳,必須經過中間這些暫存器一級一級往後傳，這期間receiver要一直拉高ready等待資料傳過 來，等待的這些clk就是氣泡。
若是receiver把ready拉下去是中間模組還有沒排乾淨的流水的話，那receiver下次再把ready從0到1啟動時是可以立刻拿到上一次殘留的資料的，所以此時沒有氣泡。
但是一次傳輸一定會把流水排乾淨的，比如一次傳輸16個數據，sender的valid累計16次和ready握上手以後就會拉低等待下一次傳輸，而receiver端要真正收完16個才能把ready拉低，然後再開啟下一次傳輸，也即除了和sender的valid累計握手16次，還需繼續維持k-1個clk作為流水線排空時間（假設中間有K級流水），這樣才算完成一次傳輸。
所以我們可以說每一次傳輸啟動時都會有K個氣泡。</li>
</ul>
<p>那怎麼消除氣泡呢？由上可知每一級流水對應一個氣泡，所以只要每一箇中間模組都擠掉自己的氣泡即可。類似沒排乾淨流水的狀態，即使receiver的ready不來，前面這幾級流水也還是可先處理並存下K個數據的，所以只需要將暫存器工作的條件改為receiver發了ready或者當前暫存器狀態為空（即OutReady=0），對應到程式碼上就是隻需改一下InReady的邏輯：
valid打拍只需要ready，数据打拍需要valid和ready握手成功</p>
<ul>
<li>前向打拍
<img decoding="async" loading="lazy" src="data:image/png;base64,UklGRkoXAABXRUJQVlA4ID4XAAAwlACdASqQAnYBPpFGnUwlo6YiINKaKMASCWlu+F6oO4mJNls74v/qX4s9/v9v/I/0J8D3lX2W9dPJ30valnyX6rfgv7X+53xe/S/7p+UHnT8N/2D8rvgC/JP5Z/jv7B+PnD+ar5gXr782/xv9z/eX/Uehp/B+hf5V/av8z+aH0Afyn+hf5z1X/03gmfXP9B7Af8o/rH+r/xf+H/8f+s+l3+E/5f+F/z/7L+1P8w/vP/X/yX+b/ar7CP5P/Uf97/e/yS+ZD/7e3L9w///7oX7Gf9UXscICVDqZUMFv6CI7XKC8/NA/IlgMypBFQ3ZUMF0qHUypIFWYplQwXSob8cGmXJaaYSzbN1nwY9orSEwjHCAmSHRRhxup5KFhMJRpgbd4XB3xM2PAc1RtfewZhMio/WgIKOYWYTK86ledSvOoZLA/bskVYMGa4NbRKhNAnUgvC9264gziIBa5C65xX51Acy5x26PedAhSrsggVi+x24N4AsKZZtxcEmPN3tUQIofZ9Dc47kaCikxn3UOplQwXBiZB4B+zwaLLBDBdKhuK7NEpGDIxT+67nkBKh1LLHXjxLwQ6mVDBdKgEAlOSK39wuiVqE7sh0uoUB0wkPTUTRUOmxhRwgJUOplQfp/Vg5BMAhvq0paHovsaYcVf/UlDxCC86fRT8zwfEg+yQH4D16Fzyg5j8Byzu+6PGYxU07pmyoB68CwScyL4vmiY4QEqHUyoYVp4dgQ3cnk1BGOWhlwBokU3+MDtv/KyCLV2OY10L3Nw5Z8KH4YLpUOplQwXSodNiEyPTvqAlQ7yuQFDqZUMF0qV9jhABxNM7CgICBtfUr7HCAlQ6mVDBdKhv4dSyt1TiYZSWrpqjUSFk9P6OlGgJvSxpw6mVDBdKh1MqESt+WzGZaoetQsl9DgEchwhIdavWgCtcGE9SL/PDSkMuY38QfulHx/hDnFcmtuOEBKhtzcu4e+c0KWi3KOjn5qcPQMkBL2ff4A+8rjwNLl3xE/IL8zZlymdabIf66O/IEqkBlAbuyl6HEBnDvjQTxHSfSF7YFFjTh1MqGYqCSy1B33ZJF26hfN+xwgI3IVaBKh1MqF7XyAjBrRla+llnkBKh1MqGC6VDqZTXWDBM3sKGx8y5FX1SCPYPnvfBL/2xwgJUOplQwXSoDYhuJJledP4phJqYju7aNZjr7vz8kN4h62wZKRTUWZegEhDh+yQy5jhASodTKhgmkgJRPpzJk2dwyWRHdIVtElFGPSXBtTJUMF0qHUyoYLpUN/DhoaL5DqWsIaVrHIvYSodTKhgulQ6mVDBNLtRnTw+tyY8yDv8/tjg8pdaBKh1MpuxU7h3qtT8VdfEbBKMVqevs5QvzedSvM5FWLCPnx5kWGc1RtC+F2c39A+yQfZINVOTrGeOEBKh1MkoeZ71VpzRE5iFSrMDJBRTqlXg+pHge/+mLHdh09bee9yVtZFWTBjI3C+eljPSxnpYz0oaNRKgY0uytn0yINyH6kamuoC/LpMgoPdLTHB5+yoYLpUCWnZQ5Hv/biGuE/bHCAlRGJIxO87QREf5b1Z0oBY9TKhgulQ6mVI1AlQ6mVDBdKh1MhAAA/v4/MbuOyxPqMo5IWHJjh87EvadR6CDujObdLf/pQNgBN+cJ2lA7cc5k55HRa9VeE4N4uvFtp8dqTLJ6baYdOpgFRBBYf4BGnnAhu+6/Vk2uVrKOWqYJ4dFxXts09Sj4efk71u0lvZrvAftco/myjqTsK6paai6xRGWHUlsk3se0Fjbku9Yyn0FzE135UMQBlD310C3eTM9I1i7qbLGu7OFDDaSDXPLBSX9dvlK9MEHni02wSpVLSQwUERnquiqlzvcVGbdHasJuTz6DgjdHA603smBUHK27xG13b70NCBfq6t+pa0NHG00RU/EcbPwRtro5wwuS9Ztf0EwcKc4FEBcOCOQClAcSOmrFgiegGSpN5yBT+a7SZB3ytLUBDStUoD1gBrCJjt8U16D1Tp9uURNd++qEqIMHw9F4aE1FigdNh92vKtCgMFzn1WTwQ0oH1zlpdBww31n51sr4i7rfCx0VvO2GnBBf36B0j0aFQCS8AEQWWe1i0lTBQp/45ZIRVxcQWCuRfTP6hpvDnrptYK9Uw7gVtjvFLSx72uTECJhlf2dWcCAEGpnrrrcm8Qq4iyGD7HRGmxv4fn+Xtv9CRmJ7udsF/BDdmy7uPSZgHsSDheSmcP50oIBlL4iTDJ8bIG8M9l9MnGZKBFflB4c4xyAhRSGEqLBlb8E4dE8hFcM/mnN+OjIloyMoUvn9WkseAOPrFTprwmyBzWWW2Uoqf7JJEn2bGKHp4rOKKLGpREy1+iOIffHEZKSFWbxVJoZE8UoXsbIryHNuaUPqRB1UnP3XTucabFuLKeUt8mbBsiG6enZCxSrAPuKOR2SM0TaSR+SYxzeNuDs8NKKUgi/8MrZ4B2iiKjwK0fPcxs5XRqaa8gCqPdxN7qwWIUySkOUyO9ZfgQ4SGgo6oEDfLZwVdyeti8lF57yorL4pc+vIm0e/3Zb3+MfPZU1dcy6DA+kqXDmuQG8eliAWdhM/2f9kqFsRTzsYcmlVSAwQJ0t2hEXZeE9atQGiPudy49tQmofEqR4hzU7GJpjakH2teipfzLw9LD4hzYopc5XUUMwYad7mD0rZEaU7f2SZTUVRBpqZzekgCobtJNQCNLrMgWLB8pUfMbRW2uSSRvBVmWy4chrycdhqL4fBmSDTdYJgh0F5ktc6z5Twb/grpF2JWnMyDC1STz8mBkfOdfOeMEw9aXQwL7rhrNDnfKERgW8lNhu4Rw9ShIXM3aoKESoRnGgXaJ+5X1PFPaeR/jvV5kryfoItju+qB+OsA9AEslVfH0lxFif8O1/Ntk0oMvl3v7LStrkma5i0liE58OjYE9wywSoOJBH/QtOb4O5nn5OTZbL+lIrIVmhtsyOcfYSHyUY61ehWzDCk4ARIl6t3t1jrUe8LtktoDz19UHZXxYdIH/OyjCA5Ph6iVEQ7O16m2jH8Bx/wSmEmDabuK1YFBKVyBDH7ydQPfkRXUEtzCF/KeKONw1q5XmPg9rumWZvKKz++TJiypU5EOgF5OpRF0qD3P15AdWMR87KeWj09mXgcofYjMAj/qETqI+wTePdd8lT46FpPr0PHthyR6B/3kaAp7/qWbn2HUw0M5yWktPbId7E/Bmd8rwx60YETp54/ycjPS8Cl8zUcKOcUuYi7WN0C0eYGT/FDLTn5xn79qpYN90AODIUI4kMFYuf4ZP6QiKmnRIXgSFlr+GWkXrckYbrCR5uapCgjTYw3cOpyQGfhXThALlOjnQf15dlU5waSd8H79tmyZqgb2PNtrRutxaYh/+W8t/WBtFizw4OguXFD4Dj6pYPdJKyjeRbj+noCOaB9WJvajbt3dY/rtw5r/xYbt74PxI8rG029RYIPz0VlesBYVxe3nC+99cqG3XfpIF5pZDHo96wwkokuvakldU2bTup74waX6XNbmd2GG/IkfBRyt8RTQb0P4h6Oj9ousfNyswP0fpmSVF+8c/1A9gvi9Hi3M0kuQQmgojp2kFZ5zHIhQXaFeQdFMujyoBIKGX0Pm3yl2MeyOwgYcirn6n53kqHAPpyR7OfCUfdD+E+rKPh5ptLMgu5wcW/1+gJgHXkxuSKcoeJ6qyJBFSYas1BahOOuUZPy1NaCMGttUoGrg9fhT3jgiAiVTWY9PIOYzLeyc00VnHflEv2vXinYkLFBSDYmPofPuaCIMhit+xtEADzvdsWoTsJxkyaUzYQL+/vsG+9YwMq85qLBXJhn5h2p8G/GFbQQDEqH4de5/d40yv0cz9JwMndvC8D69wZ1Sm7xAIFBAAse6J0qml9MD5oxjagJgQdixyaFlAIiFF8oNHYqyYhz80es5lz3/kAF4z4Q6I8slKnUvKBv6z/hASVFYQY9KGMYKeWoU3c4k2y5JQGzDbaK7PaKLZf65i6Tnn6ehtaYYl5imq67l9ZZbI/DEcbuXDUPrUoG8tJJwOQ+NPBzOcfHLRNzo6qns9PRn88mWGsZlqWy+C/tkPfKOQ3mxdKPfqyYhEFd9Dwr/GDv2wAy5C4GGp7GtnqK3NBrgA/aqtsJcd2nalXSlwqnM4fs/hzv4P1jERiCwLvFiI2zxfZrcPEDYMa0T+8j5btDbQzx7KF+YBL+nSUUh8QR1F6BJTDLZcnzEsgHv80LlGjlQz/yrsm/FMVjs6lZ9XOOO/4C5urBF1j5uY2qMJdiwwy2+yu9GMnLb09Upsybxnh7p5A8jUk4Ol5VcZmN4BVfnAGERU8+u6Z+tNLXGuiDrMYRyV/+ytPrgxQKy9E5ojg8K65mnBDZzvGMXKUMNs3BSqYmIgc4u2YGybDkbrbBKfu2Vv0xkmzONIGkxLluvTvg6PJGjj2rGcVFBsQpu0ybaHyIYfxQI/tW0ckhSnAJib9LWGCO6AWU4dsGh5t6hLSQ4J2Bi/QXBpcGNFjgl70v97kXKa2eXse0gqxZHI+8I9wKIBgR2pPtPiMyA5107u1UbYSjeFJViNMOPUmPavf+ByyYpo9P9TXh2ht0iEgnZpJXUkC/iWkENcQAAnxL7L2jdzTQluvmzWTG/sqTYXkNszw/k3TXzR+NRK+qJg+isWiDBA9iEb/tesZ4p971xkfx37Av2HP2XgaUxHrmcR9NpPtq2umvi+tQfdP/kozeD7PQwGzpYjJnujJ7eZfJtgbwtf5jhTBU/5R/C65yjUKsBxSxcedoA3r3HMI+HW9rPwUxEdjoFK8LP+v83+Vneu0a0ZISec7XHJqRGKlR2ePm+vp2HTROX5wSDaKFULxF67w4trvmAi0YgCrgifvJ5aie6IGPEpD335pnnKd2lx//5DY5gL7NPSeCN+rKOJiKyqfNGDgeSumj02pvAn7lbP3o9JLUU5+TPLiQvuKvau3bvqECm86TmsCCIHBZtA+mPeZB3ncPRK2TIsJKUv0+JL6pHIETMyco7tbBSseP8FN7Rnr/nl6qZkOcaHA+ACcrcqyz2rkb0+4KZJ7HSdDWOCD6y8N8e0SrQVvrWPeIaENtAFYanZ0znHe9/DgChuAh3xeNM+BdHSDT6mYHIYA8NsGCATzEuaKmRGfydC5IoBbbotc1Q36bP0CkQ4GQetkkmFCClaiydczped0BEc/SEpapFxbKj8NY4VL5yZ8hTfcmg/KT3SZlE7m1rBmIQfM/BlQSKy0VYBnUv7ewHC/RslJE5Sn/wWYI/uwy1rvjCtaJnnv3SWQvHpA2DS0wQXzGMabIJx+8eOW4vyK1VPOxa9Dwq5/3IVb7iIMIJ+qnGDXihWjb8sDJiVbULULOLYIY8NZYeN8zurYinEPRgyAqxKDlQBCxyjJlgqjvfcQKu6zG3Awy4jASqQG67FsDg8t+iQkHfeGiwrVRwonOoilZWlkUuOQtF/48HMqOLlwLXr5GdiJsD+U3JHqyTHofDzYCXpvPGXIrcoFX0p0eUhxbtCd/z64Q4KeYr6VHvH1QWcEAuVC9ZyGwzjq9tRKiuxNGrrdXW/TxMKiblP5i38g/YpHCnxmRySjTWS/cLG1e2iWFvbvpvH4jyGqvFWqBsK85rVA9irEZ17AocDpQfjdW7SsKjxu+cX/617ZR7BZI8ueKLb1HmxX5BnU9DOQq71iAUQ5lYCYvDcRYrYMTbJ5eP3LS8LeZ/+Q+6nqLCYD3SZLrfbRhdYCtBx6L73PqJS1CJ1b+w8jOT3yAhTWaoFcEH6bvJ5jr5IJQHDccJJA15fGZQKvEGFMB2rCRiMSwcydQbOpGXVPDED6yxfy/c0F3IFp/kLC1J4hZuc7gXdhujmSqA1v2wm/6o98C5j0FHHlElh5g1Hk0giPAKCI27RqyfPOmfVkrFttWboCPq2EmtMfzdsK8G2u8Cmfr1rN6TQenZsaKyCDOcURBTtghQ1CiAHv8Zkuo8XPrpSOrExRYPvn736ZNAVgRrU7VbP+Z13iFI55OOfMa0AtrV3jzBsg3QEC8FMYznZaXGLPMUZrNNpDLI4R3GezocRc7oZW1//ym0rrhZIDhbQNwAoZqQGljHPKQWs5kflbpHrz+MVZ7JBRspmEw6lAjzWIBHohLWXCtouDp+c1sh+ONP9KVkjhA6IpCdYRfy5DWJzPqFBeFC7UDGWj1+Z+4scZcDApmD81SsjIXF/ZcnO2eU0sxMd4NFQSS2mf4d3GKVQe+9Pzz6fLAablcoyB6pkjyDQY/GmEd1AHAPADHGtWLdVAKEXPDV0SFjWqwhkPID0rTYWYybRRT4QksB9O63Npx1ZyGdCWT1pIB9qJSKNxkmOxIiBOOOL/JNCYGxwAUR4uXYLk/8Ol7Pw6sI0xqubGvRKd1ppKvPYAGnUXJlVzJ6Fc8iNc/p/vB5N4e5L5TG0jyPYPW8kFrliDVvz7sC3q0nL0EjChZRHDgU6XfS+a0GCOCIeICNNUSgcKmlGLm3/ZvPrDAGvtWZeRf457friNHzSxb7r+LWE/bkwhoo0NltMLhH8+3Rl/jRDGb7hCHF8TJEa9jYvyYVDq67oEz/qOX5lYNzRRahx6I2XZlpU/xXMk8Fb0vSQETM+SXq6Pu8OvOhnhPyXMYySK2c9Hg/Z+2xDJdVe+G8GikQbiBAe/TkP1/sBs5oOmd6Bj7v9LONBQ+38ZYDe9Pyl8O6L08/eWA7nZltPGI0lcRFM15GZBbOtLW5QIicoArcMXNw1t+qcugR6d0GjBbpQYAojUnOKtZPXjoyIovYGSiUwEclYWoKhqXPLPds6Wo+twalnB0T1ftgRFz9VjMUUgmLt+I7m28wMuYOrQnbp3gyJCc9Ml8VRd2s+v/va574bmFNZWHCOAID0H2otwAuL9KBr/TIy2B101Z2UyDt0xUyqL2h95cFmkd22xxi/IqduBTAFRROrLMmu6oyDXq7p/zX2WaFtlmoQgWjzBeLawSwFvTd39Wg1xxf+cEmM0NogOL+RsGCnqUrQH94q1+cCPkP0f3l0m+5IeXrW2YMJF3hfV6Be3VUaNEMwSuixmZM82CTlmHHg58x1EFAz6itBkgYid0IPj8KFm4ppuY56PUedlXmbpaYIjMd6XktSNRR1aMIy8fjYZjevPJ0VWMpraR49XuCrrwKMtOq1ni7YQC+aXrwMh5TbRdxVlCvTkK8yvFr5EXg7tSva8Qzm7U3QKQ+ICKrBHY6jEIMyw1sgC783a4YfphmLv/nSlWJ4HtGplwjpCctKWrTGJv9P2Del5MCfK1HjjmNOSyTIO1XIB0IMTZqV6zmfQSwznLHfdc5tJU+LZFu8iDZNFCc+YygcMfpHJ8IdcOLpwkIfQw454Hb9gKoLgEAeqp+RlK9YTQALyUGhX8KjCWnzKLCmtbl0KZTdM7Phl8XocLLdgeFWj2sLeI7zzFSJRzjRnDla8VL/xNM0gnQVAG9OIn94PwViw8F0dB+1N2Xwwo9UKYZkBFSyghrnC69sO4SDEJhLv1lhIj7T7kfYEFIGNstOOue9Ed2t22dTlOg2Ac2YKcWMMLWy0S/ZAbDTfam7TMSHRsE8ngiP7OJIJinT3HcrIyiQamVMgh2dgd9IbzUs0zRVlFoo2/a/MlIlD8BBQlGQAdbq1RhUk1lRx/ja/91jluM4EByXPWR2hBiKY/4TWvdlnHeyCGJquONW0bjmnOegbxBe+/15xxEYKsxR/+e7asnj6J11nJ71FKbpaIkAhh3KTlL7X3u8eRBQttgqzTxa6v1pqJIoHJF8YQXBH1de+CfjBr++kR4T6z69i9yQglEUKv3BYhhHmoL6cNgBjzCyNjauGM6t+jJ1ELod4v/1LKuTmz+KzItDM0ASSGKrY7Vr4+gw1dytqjolUjI0ygF1p0byBved+C/GAAJSy64D7glKpT66qMR4DQTONQY+45tkOAsgwE+sAMFTpr5X21WnRFEgAAAAAA" width="656" height="374" class="img_ev3q"></li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">module vld_pipe #(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    parameter RST_EN      = 1&#x27;b1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    parameter BIT_RST_VAL = 1&#x27;b0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    parameter DWIDTH      = 12</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    input                   clk,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    input                   rst_n,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    input                   clr,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //src</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    input                   src_vld,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    output reg              src_rdy,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    input      [DWIDTH-1:0] src_data,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //dst</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    output                  dst_vld,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    input                   dst_rdy,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    output     [DWIDTH-1:0] dst_data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//=================================================================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//-FOWARD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//=================================================================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">wire dst_vld_upd;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">wire dst_data_upd;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//=================================================================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//-buf_vld update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//=================================================================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">assign dst_vld_upd = src_rdy;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//=================================================================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//-buf_vld</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//=================================================================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cbb_rw_reg #(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .RST_EN      ( 1&#x27;b1  ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .BIT_RST_VAL ( 1&#x27;b0  ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .DWIDTH      ( 1     )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">) u_buf_vld_upd (</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .clk      ( clk         ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .rst_n    ( rst_n       ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .clr      ( clr         ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .en       ( dst_vld_upd ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .data_in  ( src_vld     ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .data_out ( dst_vld     )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//=================================================================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//-buf_data update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//=================================================================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">assign dst_data_upd = dst_vld_upd &amp; src_vld;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//=================================================================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//-buf_data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//=================================================================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cbb_rw_reg #(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .RST_EN      ( RST_EN      ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .BIT_RST_VAL ( BIT_RST_VAL ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .DWIDTH      ( DWIDTH      )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">) u_buf_data_upd (</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .clk      ( clk                  ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .rst_n    ( rst_n                ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .clr      ( clr                  ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .en       ( dst_data_upd         ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .data_in  ( src_data[DWIDTH-1:0] ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .data_out ( dst_data[DWIDTH-1:0] )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">assign src_rdy = ~dst_vld | dst_rdy;  //remove the bubble</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">endmodule</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>key2：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">always @(posedge clk or negedge rst_n)begin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   if (rst_n == 1&#x27;d0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_dst &lt;= 1&#x27;d0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   else if (valid_src == 1&#x27;d1)  //???? if ready_dst = 0, then </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_dst &lt;= #`DLY 1&#x27;d1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   else if (ready_dst == 1&#x27;d1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_dst &lt;= #`DLY 1&#x27;d0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">always @(posedge clk or negedge rst_n)begin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   if (rst_n == 1&#x27;d0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       payload_dst &lt;= &#x27;d0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   else if (valid_src == 1&#x27;d1 &amp;&amp; ready_src == 1&#x27;d1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       payload_dst &lt;= #`DLY payload_src;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ready_src = (~valid_dst) | ready_dst</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="解析">解析<a href="#解析" class="hash-link" aria-label="Direct link to 解析" title="Direct link to 解析">​</a></h4>
<p><strong>valid_dst</strong> : 当master（source段端）发送数据（拉高src_vld）是，拉高dst_vld，直到当前master没有数据请求，并且slave可以接受请求（拉高valid）时，拉低dst_vld
<strong>payload_dst</strong>：在master发请求(拉高valid_src)，并且前面没有请求、请求已经被接收或者正在被接收时将payload_src打拍赋给payload_dst。
<strong>ready_src</strong>: register slice 或者slave可以接收数据时拉高</p>
<ul>
<li>反向打拍
何時用到skid buffer呢？前面我們也提到模組級流水所有模組的ready都是來自receiver，所以若是中間模組太多或者receiver中ready的邏輯太長，都會造成ready的Timing緊張，這時就需要對Ready也打拍。但是對Ready也打拍後就會出現，後級想停下（拉低ready）但傳給前級會慢一拍，這樣前級就多握一次手，多向後傳一個數據，但後級已經停下了，所以就在本級做一個深度為1的緩衝將其存下來，等後級再啟動時先把它傳過去即可，這樣就避免了由於ready打拍造成資料丟失。
只有dst_vld为1才<code>src_rdy&lt;=dst_rdy</code>，其他时刻src_rdy均为1，挤掉气泡
buf_rdy_upd，当src_vld为1且dst_rdy为0时才更新buf_vld
buf_vld_in为进入buf的vld，当dst_vld为1且dst_rdy为0时才拉高buf_vld_in，即下一级拉低ready但是因为打拍没有传到上一级，多出来的一拍握手数据进入buf
buf_vld_upd信号在src_vld有效且dst_rdy为0时拉高（表明下一级反压，但是src_vld依旧有效且src_rdy打拍没有来得及更新，所以需要用buf暂存）或者在buf_vld为高时拉高（表明当前buf内部有数据，当下一级rdy一旦拉高数据就被送出去并再把buf_vld重新拉低）
buf_vld_upd = buf_vld | (src_vld &amp; ~dst_rdy);
buf_vld_in = dst_vld &amp; ~dst_rdy;
en(buf_vld_upd), d_i(buf_vld_in), d_o(buf_vld)
buf_data_upd = ~buf_vld &amp; src_vld &amp; ~dst_rdy
dst_vld = buf_vld | src_vld;
dst_data = buf_vld ? buf_data : src_data
<img decoding="async" loading="lazy" src="/assets/images/23495115-9cd754725726bcfe-ba1d4f098b3700371db1b4d432325fed.png" width="849" height="760" class="img_ev3q">
<strong>感觉这个rdy_pipe有点复杂，具体逻辑为何还有待研究</strong></li>
<li>下面是一个比较清晰版本的rdy_pipe，是否验证充分有待考量。</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">always @(posedge clk or negedge rst_n)begin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   if (rst_n == 1&#x27;d0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_tmp0 &lt;= 1&#x27;d0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   else if (valid_src == 1&#x27;d1 &amp;&amp; ready_dst == 1&#x27;d0 &amp;&amp;valid_tmp0 == 1&#x27;d0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_tmp0 &lt;= #`DLY 1&#x27;d1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   else if (ready_dst == 1&#x27;d1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_tmp0 &lt;= #`DLY 1&#x27;d0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">always @(posedge clk or negedge rst_n)begin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (rst_n == 1&#x27;d0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       payload_tmp0 &lt;= &#x27;d0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   else if (valid_src == 1&#x27;d1 &amp;&amp; ready_dst == 1&#x27;d0 &amp;&amp;valid_tmp0 == 1&#x27;d0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       payload_tmp0 &lt;= #`DLY payload_src;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">assign payload_dst = (valid_tmp0 == 1&#x27;d1) ?payload_tmp0 : payload_src;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">always @(posedge clk or negedge rst_n)begin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   if (rst_n == 1&#x27;d0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ready_src &lt;= 1&#x27;d0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ready_src &lt;= #`DLY ready_dst;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>双向打拍
先过ready pipe后过valid pipe</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/FPGA-IC/Valid-Ready打拍-TODO：自己整理下.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/FPGA-IC/VCS-仿真-VIVADO-IP"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">VCS-仿真-VIVADO-IP</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/FPGA-IC/Verilog_X_Bugs"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Verilog_X_Bugs</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>