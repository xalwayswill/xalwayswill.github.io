图像处理中很多在窗中搜索最大值最小值的逻辑，优化能够减少很多的逻辑资源：
5\*5的窗内部搜索个人认为可以分为3个8数比较加一个数单独比较，原来的代码中是3\*3的窗中搜索，然后3个5值搜索，加一个单独的搜索，方法暴力，总共需要的比较次数为28+3\*12+2=66次
采用分治的方法，一个8值搜索需要10次比较，三个8值搜索之后输出3个max，3个min，再和剩余一个值一起比较，相当于4个数寻找最大值和4个数寻找最小值，共计6次比较，所以5*5搜索最大最小值一共3\*10+6=36次比较。
![](在5-5窗中搜索最大值和最小值.assets\23495115-09aa48b0b2776cd3.png)


5\*5的窗内部搜索最大值和最小值，原代码中使用5级两输入比较器，每级比较器个数分别为12、6、3、2、1，共计24个两输入比较器
错误示例：sh采用三输入的比较器（每个三输入比较器内部实际使用两个两输入比较器，级数为2）来对25个数据寻找最大值，共使用了8个三输入的比较器，共三级，实际等于使用了24个两输入的比较器，且比较器级数为6，不但没有优化，反而增大了逻辑级数。并且算法是要寻找最大值和最小值，sh将最大值和最小值分别通过比较寻找，没有任何对中间结果的复用，属实stupid，总共就要用到24*2=48个两输入比较器。
优化方法：通过先对25个数据两两进行比较，得到12个max和min以及多余的一个数据，再将12个max和12个min分别以及多出来的一个数据分别进行 4级两输入比较，共计6+3+2+1=12个两输入比较器，总计比较器数量12+2*12=36个，比上面的省了12个两输入比较器。
